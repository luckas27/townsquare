(function(e){function t(t){for(var i,r,n=t[0],l=t[1],c=t[2],h=0,m=[];h<n.length;h++)r=n[h],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(m.length)m.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],i=!0,n=1;n<o.length;n++){var l=o[n];0!==s[l]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=o[0]))}return e}var i={},s={app:0},a=[];function r(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=i,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/townsquare/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;a.push(["56d7","chunk-vendors"]),o()})({"00a0":function(e,t,o){},"00c0":function(e){e.exports=JSON.parse('[{"id":"tb","name":"Trouble Brewing","hasTravelers":true,"description":"Clouds roll in over Ravenswood Bluff, engulfing this sleepy town and its superstitious inhabitants in foreboding shadow. Freshly-washed clothes dance eerily on lines strung between cottages. Chimneys cough plumes of smoke into the air. Exotic scents waft through cracks in windows and under doors, as hidden cauldrons lay bubbling. An unusually warm Autumn breeze wraps around vine-covered walls and whispers ominously to those brave enough to walk the cobbled streets.\\n\\nAnxious mothers call their children home from play, as thunder begins to clap on the horizon. If you listen more closely, however, noises stranger still can be heard echoing from the neighbouring forest. Under the watchful eye of a looming monastery, silhouetted figures skip from doorway to doorway. Those who can read the signs know there is... Trouble Brewing.","level":"Beginner","roles":[]},{"id":"bmr","name":"Bad Moon Rising","hasTravelers":true,"description":"The sun is swallowed by a jagged horizon as another winter\'s day surrenders to the night. Flecks of orange and red decay into deeper browns, the forest transforming in silent anticipation of the coming snow.\\n\\nRavenous wolves howl from the bowels of a rocky crevasse beyond the town borders, sending birds scattering from their cozy rooks. Travelers hurry into the inn, seeking shelter from the gathering chill. They warm themselves with hot tea, sweet strains of music and hearty ale, unaware that strange and nefarious eyes stalk them from the ruins of this once great city.\\n\\nTonight, even the livestock know there is a... Bad Moon Rising.","level":"Intermediate","roles":[]},{"id":"snv","name":"Sects & Violets","hasTravelers":true,"description":"Vibrant spring gives way to a warm and inviting summer. Flowers of every description blossom as far as the eye can see, tenderly nurtured in public gardens and window boxes overlooking the lavish promenade. Birds sing, artists paint and philosophers ponder life\'s greatest mysteries inside a bustling tavern as a circus pitches its endearingly ragged tent on the edge of town.\\n\\nAs the townsfolk bask in frivolity and mischief, indulging themselves in fine entertainment and even finer wine, dark and clandestine forces are assembling. Witches and cults lurk in majestic ruins on the fringes of the community, hosting secret meetings in underground caves and malevolently plotting the downfall of Ravenswood Bluff and its revelers.\\n\\nThe time is ripe for... Sects & Violets.","level":"Intermediate","roles":[]},{"id":"luf","name":"Laissez un Faire","hasTravelers":false,"description":"","level":"Veteran","roles":["balloonist","savant","amnesiac","fisherman","artist","cannibal","mutant","lunatic","widow","goblin","leviathan"]}]')},"013f":function(e,t,o){e.exports=o.p+"img/washerwoman.a0c66e53.png"},"027a":function(e,t,o){e.exports=o.p+"img/barista.fd2bba67.png"},"030d":function(e,t,o){"use strict";var i=o("e8f0"),s=o.n(i);s.a},"0436":function(e,t,o){e.exports=o.p+"img/cerenovus.736554ca.png"},"043b":function(e,t,o){e.exports=o.p+"img/amnesiac.03ce8f67.png"},"07ab":function(e,t,o){e.exports=o.p+"img/politician.32246fcf.png"},"0b29":function(e,t,o){e.exports=o.p+"img/shabaloth.f461dd08.png"},"0b61":function(e,t,o){e.exports=o.p+"img/lunatic.f2982146.png"},"0c12":function(e,t,o){e.exports=o.p+"img/oracle.63459162.png"},"0c59":function(e,t,o){e.exports=o.p+"img/ravenkeeper.552f1f2f.png"},"0d06":function(e,t,o){e.exports=o.p+"img/spiritofivory.1ec5112e.png"},"0e20":function(e,t,o){e.exports=o.p+"img/undertaker.1df72155.png"},"125e":function(e,t,o){e.exports=o.p+"img/chambermaid.b6f002ce.png"},"13c2":function(e,t,o){"use strict";var i=o("5dc1"),s=o.n(i);s.a},"160b":function(e,t,o){e.exports=o.p+"img/plus.c11bf1ed.png"},"177d":function(e,t,o){e.exports=o.p+"img/recluse.a6519a1d.png"},"17ad":function(e,t,o){e.exports=o.p+"img/mutant.b28a535c.png"},"1b64":function(e,t,o){},"1b90":function(e,t,o){"use strict";var i=o("1b64"),s=o.n(i);s.a},"1c42":function(e,t,o){"use strict";var i=o("7b07"),s=o.n(i);s.a},"1d01":function(e,t,o){e.exports=o.p+"img/buddhist.72caa1e8.png"},"1e83":function(e,t,o){e.exports=o.p+"img/chef.d4e7f9a6.png"},2094:function(e,t,o){e.exports=o.p+"img/preacher.f3f608a6.png"},"20ca":function(e,t,o){e.exports=o.p+"img/zombuul.ec71a259.png"},"223c":function(e,t,o){e.exports=o.p+"img/sailor.631521c2.png"},"22c9":function(e,t,o){e.exports=o.p+"img/widow.ec8d8cb0.png"},"23b1":function(e,t,o){e.exports=o.p+"img/bonecollector.846af8c8.png"},"24d3":function(e,t,o){e.exports=o.p+"img/baron.9ce9bd3b.png"},"25f6":function(e,t,o){e.exports=o.p+"img/bureaucrat.88ec372a.png"},"2b04":function(e,t,o){e.exports=o.p+"img/leviathan.dfbff6e8.png"},"2cd0":function(e,t,o){e.exports=o.p+"img/artist.f89690cd.png"},"2e0f":function(e,t,o){"use strict";var i=o("93b5"),s=o.n(i);s.a},"30b6":function(e,t,o){e.exports=o.p+"img/sage.5afc100d.png"},"327a":function(e,t,o){e.exports=o.p+"img/scapegoat.8bd95c23.png"},"357c":function(e,t,o){"use strict";var i=o("7d63"),s=o.n(i);s.a},3603:function(e,t,o){e.exports=o.p+"img/philosopher.92032c70.png"},3636:function(e,t,o){"use strict";var i=o("d4b2"),s=o.n(i);s.a},"37dd":function(e,t,o){e.exports=o.p+"img/butcher.e0b672b7.png"},"38a5":function(e,t,o){e.exports=o.p+"img/towncrier.18a4377b.png"},"398f":function(e,t,o){e.exports=o.p+"img/cultleader.de1fca53.png"},"39eb":function(e,t,o){e.exports=o.p+"img/toymaker.07b2e8fa.png"},"3a43":function(e,t,o){e.exports=o.p+"img/vortox.6add3a3a.png"},"3b65":function(e,t,o){e.exports=o.p+"img/deviant.e8a761ae.png"},"3e70":function(e,t,o){e.exports=o.p+"img/imp.cd0fa5b8.png"},"3f65":function(e,t,o){e.exports=o.p+"img/moonchild.6c84161e.png"},"3f8f":function(e,t,o){"use strict";var i=o("557b"),s=o.n(i);s.a},4021:function(e,t,o){e.exports=o.p+"img/snakecharmer.e512cc1e.png"},"43e8":function(e,t,o){e.exports=o.p+"img/fortuneteller.4396927c.png"},4720:function(e,t,o){e.exports=o.p+"img/fool.a730aab3.png"},"49b2":function(e,t,o){"use strict";var i=o("6614"),s=o.n(i);s.a},"4ab7":function(e,t,o){},"4bea":function(e,t,o){e.exports=o.p+"img/apprentice.b7055345.png"},"4d73":function(e,t,o){e.exports=o.p+"img/librarian.6fd7f267.png"},"4dcd":function(e,t,o){"use strict";var i=o("95b7"),s=o.n(i);s.a},"4e76":function(e,t,o){e.exports=o.p+"img/soldier.451de0df.png"},"4efd":function(e,t,o){e.exports=o.p+"img/minstrel.1647382d.png"},5072:function(e,t,o){e.exports=o.p+"img/exorcist.8c0f5cac.png"},"557b":function(e,t,o){},"559e":function(e,t,o){e.exports=o.p+"img/harlot.1a418200.png"},"55aa":function(e,t,o){e.exports=o.p+"img/goon.719106f2.png"},"56d7":function(e,t,o){"use strict";o.r(t);var i=o("2b0e"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:{screenshot:e.grimoire.isScreenshot},style:{backgroundImage:e.grimoire.background?"url('"+e.grimoire.background+"')":""},attrs:{id:"app",tabindex:"-1"},on:{keyup:e.keyup}},[o("transition",{attrs:{name:"blur"}},[e.players.length?e._e():o("Intro"),e.players.length&&!e.session.nomination?o("TownInfo"):e._e(),e.session.nomination?o("Vote"):e._e()],1),o("TownSquare",{on:{screenshot:e.takeScreenshot}}),o("Menu",{ref:"menu"}),o("EditionModal"),o("FabledModal"),o("RolesModal"),o("ReferenceModal"),o("NightOrderModal"),o("Gradients"),o("span",{attrs:{id:"version"}},[e._v("v"+e._s(e.version))])],1)},a=[],r=o("2f62"),n=o("9224"),l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"square",class:{public:e.grimoire.isPublic,spectator:e.session.isSpectator,vote:e.session.nomination},attrs:{id:"townsquare"}},[o("ul",{staticClass:"circle",class:["size-"+e.players.length]},e._l(e.players,(function(t,i){return o("Player",{key:i,class:{from:Math.max(e.swap,e.move,e.nominate)===i,swap:e.swap>-1,move:e.move>-1,nominate:e.nominate>-1},attrs:{player:t},on:{screenshot:function(t){return e.$emit("screenshot",t)},trigger:function(t){return e.handleTrigger(i,t)}}})})),1),e.players.length?o("div",{ref:"bluffs",staticClass:"bluffs",class:{closed:!e.isBluffsOpen}},[o("h3",[o("font-awesome-icon",{attrs:{icon:"camera"},on:{click:function(t){return t.stopPropagation(),e.takeScreenshot(t)}}}),e.session.isSpectator?o("span",[e._v("Other characters")]):o("span",[e._v("Blefes do Dem√¥nio")]),o("font-awesome-icon",{attrs:{icon:"times-circle"},on:{click:function(t){return t.stopPropagation(),e.toggleBluffs(t)}}}),o("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(t){return t.stopPropagation(),e.toggleBluffs(t)}}})],1),o("ul",e._l(e.bluffs,(function(t){return o("li",{key:t,on:{click:function(o){return e.openRoleModal(-1*t)}}},[o("Token",{attrs:{role:e.grimoire.bluffs[t-1]}})],1)})),0)]):e._e(),e.grimoire.fabled.length?o("div",{staticClass:"fabled",class:{closed:!e.isFabledOpen}},[o("h3",[o("span",[e._v("Lend√°rios")]),o("font-awesome-icon",{attrs:{icon:"times-circle"},on:{click:function(t){return t.stopPropagation(),e.toggleFabled(t)}}}),o("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(t){return t.stopPropagation(),e.toggleFabled(t)}}})],1),o("ul",e._l(e.grimoire.fabled,(function(t,i){return o("li",{key:i,on:{click:function(t){return e.removeFabled(i)}}},[o("Token",{attrs:{role:t}})],1)})),0)]):e._e(),o("ReminderModal",{attrs:{"player-index":e.selectedPlayer}}),o("RoleModal",{attrs:{"player-index":e.selectedPlayer}})],1)},c=[],d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{style:e.zoom},[i("div",{ref:"player",staticClass:"player",class:[{dead:e.player.isDead,"no-vote":e.player.isVoteless,you:e.session.sessionId&&e.player.id&&e.player.id===e.session.playerId,"vote-yes":e.session.votes[e.index],"vote-lock":e.voteLocked},e.player.role.team]},[i("div",{staticClass:"shroud",on:{click:function(t){return e.toggleStatus()}}}),i("div",{staticClass:"life",on:{click:function(t){return e.toggleStatus()}}}),e.nightOrder.get(e.player).first&&e.grimoire.isNightOrder?i("div",{staticClass:"night first"},[i("em",[e._v(e._s(e.nightOrder.get(e.player).first)+".")]),e.player.role.firstNightReminder?i("span",[e._v(e._s(e._f("handleEmojis")(e.player.role.firstNightReminder)))]):e._e()]):e._e(),e.nightOrder.get(e.player).other&&e.grimoire.isNightOrder?i("div",{staticClass:"night other"},[i("em",[e._v(e._s(e.nightOrder.get(e.player).other)+".")]),e.player.role.otherNightReminder?i("span",[e._v(e._s(e._f("handleEmojis")(e.player.role.otherNightReminder)))]):e._e()]):e._e(),i("Token",{attrs:{role:e.player.role},on:{"set-role":function(t){return e.$emit("trigger",["openRoleModal"])}}}),i("div",{staticClass:"overlay"},[i("font-awesome-icon",{staticClass:"vote",attrs:{icon:"skull",title:"Voted YES"},on:{click:function(t){return e.vote()}}}),i("font-awesome-icon",{staticClass:"vote",attrs:{icon:"times",title:"Voted NO"},on:{click:function(t){return e.vote()}}}),i("font-awesome-icon",{staticClass:"cancel",attrs:{icon:"times-circle",title:"Cancel"},on:{click:function(t){return e.cancel()}}}),i("font-awesome-icon",{staticClass:"swap",attrs:{icon:"exchange-alt",title:"Swap seats with this player"},on:{click:function(t){return e.swapPlayer(e.player)}}}),i("font-awesome-icon",{staticClass:"move",attrs:{icon:"redo-alt",title:"Move player to this seat"},on:{click:function(t){return e.movePlayer(e.player)}}}),i("font-awesome-icon",{staticClass:"nominate",attrs:{icon:"hand-point-right",title:"Nominate this player"},on:{click:function(t){return e.nominatePlayer(e.player)}}})],1),e.player.id&&e.session.sessionId?i("font-awesome-icon",{staticClass:"seat",attrs:{icon:"chair"}}):e._e(),e.player.isDead&&!e.player.isVoteless?i("font-awesome-icon",{staticClass:"has-vote",attrs:{icon:"vote-yea",title:"Ghost vote"},on:{click:function(t){return e.updatePlayer("isVoteless",!0)}}}):e._e(),i("div",{staticClass:"name",class:{active:e.isMenuOpen},on:{click:function(t){e.isMenuOpen=!e.isMenuOpen}}},[e._v(" "+e._s(e.player.name)+" ")]),i("transition",{attrs:{name:"fold"}},[e.isMenuOpen?i("ul",{staticClass:"menu"},[e.session.isSpectator?e._e():[i("li",{on:{click:e.changeName}},[i("font-awesome-icon",{attrs:{icon:"user-edit"}}),e._v("Renomear ")],1),e.session.nomination?e._e():i("li",{on:{click:function(t){return e.nominatePlayer()}}},[i("font-awesome-icon",{attrs:{icon:"hand-point-right"}}),e._v(" Nomeador ")],1),i("li",{on:{click:function(t){return e.movePlayer()}}},[i("font-awesome-icon",{attrs:{icon:"redo-alt"}}),e._v(" Mover Jogador ")],1),i("li",{on:{click:function(t){return e.swapPlayer()}}},[i("font-awesome-icon",{attrs:{icon:"exchange-alt"}}),e._v(" Trocar Habilidades ")],1),i("li",{staticClass:"screenshot",on:{click:e.takeScreenshot}},[i("font-awesome-icon",{attrs:{icon:"camera"}}),e._v(" Screenshot ")],1),i("li",{on:{click:e.removePlayer}},[i("font-awesome-icon",{attrs:{icon:"times-circle"}}),e._v(" Remover ")],1)],e.session.isSpectator?i("li",{on:{click:e.claimSeat}},[i("font-awesome-icon",{attrs:{icon:"chair"}}),e.player.id!==e.session.playerId?[e._v(" Reivindicar Assento ")]:[e._v(" Vacate seat ")]],2):e._e()],2):e._e()])],1),e.player.reminders?e._l(e.player.reminders,(function(t){return i("div",{key:t.role+" "+t.name,staticClass:"reminder",class:[t.role],on:{click:function(o){return e.removeReminder(t)}}},[i("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image||o("61b0")("./"+t.role+".png"))+")"}}),i("span",{staticClass:"text"},[e._v(e._s(t.name))])])})):e._e(),i("div",{staticClass:"reminder add",on:{click:function(t){return e.$emit("trigger",["openReminderModal"])}}},[i("span",{staticClass:"icon"})])],2)},h=[],m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"token",class:[e.role.id],on:{click:e.setRole}},[e.role.id?i("span",{staticClass:"icon",style:{backgroundImage:"url("+(e.role.image||o("61b0")("./"+e.role.id+".png"))+")"}}):e._e(),e.role.firstNight||e.role.firstNightReminder?i("span",{staticClass:"leaf-left"}):e._e(),e.role.otherNight||e.role.otherNightReminder?i("span",{staticClass:"leaf-right"}):e._e(),e.role.reminders&&e.role.reminders.length?i("span",{class:["leaf-top"+e.role.reminders.length]}):e._e(),e.role.setup?i("span",{staticClass:"leaf-orange"}):e._e(),i("svg",{staticClass:"name",attrs:{viewBox:"0 0 150 150"}},[i("path",{attrs:{d:"M 13 75 C 13 160, 138 160, 138 75",id:"curve",fill:"transparent"}}),i("text",{staticClass:"label mozilla",attrs:{width:"150",x:"66.6%","text-anchor":"middle","font-size":e._f("nameToFontSize")(e.role.name)}},[i("textPath",{attrs:{"xlink:href":"#curve"}},[e._v(" "+e._s(e.role.name)+" ")])])]),i("div",{staticClass:"edition",class:["edition-"+e.role.edition,e.role.team]}),e.role.ability?i("div",{staticClass:"ability"},[e._v(" "+e._s(e.role.ability)+" ")]):e._e()])},p=[],g={name:"Token",props:{role:{type:Object,default:()=>({})}},data(){return{}},filters:{nameToFontSize:e=>e&&e.length>10?"90%":"110%"},methods:{setRole(){this.$emit("set-role")}}},u=g,f=(o("1c42"),o("2877")),y=Object(f["a"])(u,m,p,!1,null,"a47c80b4",null),b=y.exports,v={components:{Token:b},props:{player:{type:Object,required:!0}},computed:{...Object(r["d"])("players",["players"]),...Object(r["d"])(["grimoire","session"]),...Object(r["b"])({nightOrder:"players/nightOrder"}),index:function(){return this.players.indexOf(this.player)},voteLocked:function(){const e=this.session,t=this.players.length;if(!e.nomination)return!1;const o=(this.index-1+t-e.nomination[1])%t;return o<e.lockedVote-1},zoom:function(){const e=window.innerWidth>window.innerHeight?"vh":"vw";return this.players.length<7?{width:18+this.grimoire.zoom+e}:this.players.length<=10?{width:16+this.grimoire.zoom+e}:this.players.length<=15?{width:14+this.grimoire.zoom+e}:{width:12+this.grimoire.zoom+e}}},data(){return{isMenuOpen:!1,isSwap:!1}},filters:{handleEmojis:e=>e.replace(/:([^: ]+?):/g,"").replace(/ ‚Ä¢/g,"\n‚Ä¢")},methods:{takeScreenshot(){const{width:e,height:t,x:o,y:i}=this.$refs.player.getBoundingClientRect();this.$emit("screenshot",{width:e,height:t,x:o,y:i}),this.isMenuOpen=!1},toggleStatus(){this.grimoire.isPublic?this.player.isDead?this.player.isVoteless?(this.updatePlayer("isVoteless",!1),this.updatePlayer("isDead",!1)):this.updatePlayer("isVoteless",!0):this.updatePlayer("isDead",!0):(this.updatePlayer("isDead",!this.player.isDead),this.player.isVoteless&&this.updatePlayer("isVoteless",!1))},changeName(){if(this.session.isSpectator)return;const e=prompt("Player name",this.player.name)||this.player.name;this.updatePlayer("name",e),this.isMenuOpen=!1},removeReminder(e){const t=[...this.player.reminders];t.splice(this.player.reminders.indexOf(e),1),this.updatePlayer("reminders",t),this.isMenuOpen=!1},updatePlayer(e,t){this.session.isSpectator&&"reminders"!==e||this.$store.commit("players/update",{player:this.player,property:e,value:t})},removePlayer(){this.isMenuOpen=!1,this.$emit("trigger",["removePlayer"])},swapPlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["swapPlayer",e])},movePlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["movePlayer",e])},nominatePlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["nominatePlayer",e])},cancel(){this.$emit("trigger",["cancel"])},claimSeat(){this.isMenuOpen=!1,this.$emit("trigger",["claimSeat"])},vote(){this.session.isSpectator||this.voteLocked&&this.$store.commit("session/voteSync",[this.index,!this.session.votes[this.index]])}}},k=v,N=(o("74c9"),Object(f["a"])(k,d,h,!1,null,null,null)),w=N.exports,_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.players[e.playerIndex]?i("Modal",{directives:[{name:"show",rawName:"v-show",value:e.modals.reminder&&e.availableReminders.length,expression:"modals.reminder && availableReminders.length"}],on:{close:function(t){return e.toggleModal("reminder")}}},[i("h3",[e._v("Choose a reminder token:")]),i("ul",{staticClass:"reminders"},e._l(e.availableReminders,(function(t){return i("li",{key:t.role+" "+t.name,staticClass:"reminder",class:[t.role],on:{click:function(o){return e.addReminder(t)}}},[i("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image||o("61b0")("./"+t.role+".png"))+")"}}),i("span",{staticClass:"text"},[e._v(e._s(t.name))])])})),0)]):e._e()},S=[],R=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"modal-fade"}},[o("div",{staticClass:"modal-backdrop",on:{click:e.close}},[o("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"},on:{click:function(e){e.stopPropagation()}}},[o("font-awesome-icon",{staticClass:"close",attrs:{icon:"times-circle"},on:{click:e.close}}),e._t("default")],2)])])},x=[],T={methods:{close(){this.$emit("close")}}},C=T,M=(o("8781"),Object(f["a"])(C,R,x,!1,null,null,null)),j=M.exports,O={components:{Modal:j},props:["playerIndex"],computed:{availableReminders(){let e=[];const t=this.$store.state.players.players;return this.$store.state.roles.forEach(o=>{t.some(e=>e.role.id===o.id)&&(e=[...e,...o.reminders.map(e=>({role:o.id,image:o.image,name:e}))]),o.remindersGlobal&&o.remindersGlobal.length&&(e=[...e,...o.remindersGlobal.map(e=>({role:o.id,image:o.image,name:e}))])}),this.$store.state.grimoire.fabled.forEach(t=>{e=[...e,...t.reminders.map(e=>({role:t.id,image:t.image,name:e}))]}),e.push({role:"good",name:"Bom"}),e.push({role:"evil",name:"Mal"}),e.push({role:"custom",name:"Nota Customizada"}),e},...Object(r["d"])(["modals"]),...Object(r["d"])("players",["players"])},methods:{addReminder(e){const t=this.$store.state.players.players[this.playerIndex];let o;if("custom"===e.role){const e=prompt("Add a custom reminder note");if(!e)return;o=[...t.reminders,{role:"custom",name:e}]}else o=[...t.reminders,e];this.$store.commit("players/update",{player:t,property:"reminders",value:o}),this.$store.commit("toggleModal","reminder")},...Object(r["c"])(["toggleModal"])}},I=O,P=(o("13c2"),Object(f["a"])(I,_,S,!1,null,"73894f44",null)),D=P.exports,E=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Modal",{directives:[{name:"show",rawName:"v-show",value:e.modals.role&&e.availableRoles.length,expression:"modals.role && availableRoles.length"}],on:{close:function(t){return e.toggleModal("role")}}},[o("h3",[e._v(" Escolha um novo personagem: "+e._s(e.playerIndex>=0&&e.players.length?e.players[e.playerIndex].name:"bluffing")+" ")]),o("ul",{staticClass:"tokens"},e._l(e.availableRoles,(function(t){return o("li",{key:t.id,class:[t.team],on:{click:function(o){return e.setRole(t)}}},[o("Token",{attrs:{role:t}})],1)})),0)])},V=[],$={components:{Token:b,Modal:j},props:["playerIndex"],computed:{availableRoles(){const e=[],t=this.$store.state.players.players;return this.$store.state.roles.forEach(o=>{(this.playerIndex>=0||this.playerIndex<0&&!t.some(e=>e.role.id===o.id))&&e.push(o)}),e.push({}),e},...Object(r["d"])(["modals","roles","session"]),...Object(r["d"])("players",["players"])},methods:{setRole(e){if(this.playerIndex<0)this.$store.commit("setBluff",{index:-1*this.playerIndex-1,role:e});else{if(this.session.isSpectator&&"traveler"===e.team)return;const t=this.$store.state.players.players[this.playerIndex];this.$store.commit("players/update",{player:t,property:"role",value:e})}this.$store.commit("toggleModal","role")},...Object(r["c"])(["toggleModal"])}},B=$,q=(o("f3a2"),Object(f["a"])(B,E,V,!1,null,"9dde36c4",null)),F=q.exports,A={components:{Player:w,Token:b,RoleModal:F,ReminderModal:D},computed:{...Object(r["d"])(["grimoire","roles","session"]),...Object(r["d"])("players",["players"])},data(){return{selectedPlayer:0,bluffs:3,swap:-1,move:-1,nominate:-1,isBluffsOpen:!0,isFabledOpen:!0}},methods:{takeScreenshot(){const{width:e,height:t,x:o,y:i}=this.$refs.bluffs.getBoundingClientRect();this.$emit("screenshot",{width:e,height:t,x:o,y:i})},toggleBluffs(){this.isBluffsOpen=!this.isBluffsOpen},toggleFabled(){this.isFabledOpen=!this.isFabledOpen},removeFabled(e){this.session.isSpectator||this.$store.commit("setFabled",{index:e})},handleTrigger(e,[t,o]){"function"===typeof this[t]&&this[t](e,o)},claimSeat(e){this.session.isSpectator&&(this.session.playerId===this.players[e].id?this.$store.commit("session/claimSeat",-1):this.$store.commit("session/claimSeat",e))},openReminderModal(e){this.selectedPlayer=e,this.$store.commit("toggleModal","reminder")},openRoleModal(e){const t=this.players[e];this.session.isSpectator&&t&&"traveler"===t.role.team||(this.selectedPlayer=e,this.$store.commit("toggleModal","role"))},removePlayer(e){this.session.isSpectator||confirm(`Do you really want to remove ${this.players[e].name}?`)&&this.$store.commit("players/remove",e)},swapPlayer(e,t){void 0===t?(this.cancel(),this.swap=e):(this.$store.commit("players/swap",[this.swap,this.players.indexOf(t)]),this.cancel())},movePlayer(e,t){void 0===t?(this.cancel(),this.move=e):(this.$store.commit("players/move",[this.move,this.players.indexOf(t)]),this.cancel())},nominatePlayer(e,t){if(void 0===t)this.cancel(),e!==this.nominate&&(this.nominate=e);else{const e=[this.nominate,this.players.indexOf(t)];this.$store.commit("session/nomination",{nomination:e}),this.cancel()}},cancel(){this.move=-1,this.swap=-1,this.nominate=-1}}},z=A,L=(o("3636"),Object(f["a"])(z,l,c,!1,null,null,null)),G=L.exports,U=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",{staticClass:"info"},[o("li",{staticClass:"edition",class:["edition-"+e.edition]}),e.players.length-e.teams.traveler<5?o("li",[e._v(" Por favor adicione mais jogadores! ")]):e._e(),o("li",[e._v(" "+e._s(e.players.length)+" "),o("font-awesome-icon",{staticClass:"players",attrs:{icon:"users"}}),e._v(" "+e._s(e.teams.alive)+" "),o("font-awesome-icon",{staticClass:"alive",attrs:{icon:"heartbeat"}}),e._v(" "+e._s(e.teams.votes)+" "),o("font-awesome-icon",{staticClass:"votes",attrs:{icon:"vote-yea"}})],1),e.players.length-e.teams.traveler>=5?o("li",[e._v(" "+e._s(e.teams.townsfolk)+" "),o("font-awesome-icon",{staticClass:"townsfolk",attrs:{icon:"user-friends"}}),e._v(" "+e._s(e.teams.outsider)+" "),o("font-awesome-icon",{staticClass:"outsider",attrs:{icon:e.teams.outsider>1?"user-friends":"user"}}),e._v(" "+e._s(e.teams.minion)+" "),o("font-awesome-icon",{staticClass:"minion",attrs:{icon:e.teams.minion>1?"user-friends":"user"}}),e._v(" "+e._s(e.teams.demon)+" "),o("font-awesome-icon",{staticClass:"demon",attrs:{icon:e.teams.demon>1?"user-friends":"user"}}),e.teams.traveler?[e._v(" "+e._s(e.teams.traveler)+" "),o("font-awesome-icon",{staticClass:"traveler",attrs:{icon:e.teams.traveler>1?"user-friends":"user"}})]:e._e()],2):e._e()])},W=[],J=o("634a"),H={computed:{teams:function(){const{players:e}=this.$store.state.players,t=this.$store.getters["players/nonTravelers"],o=e.filter(e=>!0!==e.isDead).length;return{...J[t-5],traveler:e.length-t,alive:o,votes:o+e.filter(e=>!0===e.isDead&&!0!==e.isVoteless).length}},...Object(r["d"])(["edition"]),...Object(r["d"])("players",["players"])}},Y=H,Z=(o("749e"),Object(f["a"])(Y,U,W,!1,null,"6f7d2bc3",null)),K=Z.exports,Q=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"controls"}},[o("Screenshot",{ref:"screenshot"}),e.session.sessionId?o("span",{staticClass:"session",class:{spectator:e.session.isSpectator,reconnecting:e.session.isReconnecting},attrs:{title:e.session.playerCount+" other players in this session"+(e.session.ping?" ("+e.session.ping+"ms latency)":"")},on:{click:e.leaveSession}},[o("font-awesome-icon",{attrs:{icon:"broadcast-tower"}}),e._v(" "+e._s(e.session.playerCount)+" ")],1):e._e(),o("span",{staticClass:"camera"},[o("font-awesome-icon",{class:{success:e.grimoire.isScreenshotSuccess},attrs:{icon:"camera",title:"Take a screenshot"},on:{click:function(t){return e.takeScreenshot()}}})],1),o("div",{staticClass:"menu",class:{open:e.grimoire.isMenuOpen}},[o("font-awesome-icon",{attrs:{icon:"cog"},on:{click:e.toggleMenu}}),o("ul",[o("li",{staticClass:"tabs",class:e.tab},[o("font-awesome-icon",{attrs:{icon:"book-open"},on:{click:function(t){e.tab="grimoire"}}}),o("font-awesome-icon",{attrs:{icon:"broadcast-tower"},on:{click:function(t){e.tab="session"}}}),e.session.isSpectator?e._e():o("font-awesome-icon",{attrs:{icon:"users"},on:{click:function(t){e.tab="players"}}}),o("font-awesome-icon",{attrs:{icon:"theater-masks"},on:{click:function(t){e.tab="characters"}}}),o("font-awesome-icon",{attrs:{icon:"question"},on:{click:function(t){e.tab="help"}}})],1),"grimoire"===e.tab?[o("li",{staticClass:"headline"},[e._v("Grimoire")]),e.players.length?o("li",{on:{click:e.toggleGrimoire}},[e.grimoire.isPublic?e._e():[e._v("Esconder")],e.grimoire.isPublic?[e._v("Mostrar")]:e._e(),o("em",[e._v("[G]")])],2):e._e(),e.players.length?o("li",{on:{click:e.toggleNightOrder}},[e._v(" Ordem da Noite "),o("em",[o("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isNightOrder?"check-square":"square"]}})],1)]):e._e(),e.session.isSpectator?e._e():o("li",{on:{click:function(t){return e.toggleModal("fabled")}}},[e._v(" Adicionar Lend√°rio "),o("em",[o("font-awesome-icon",{attrs:{icon:"dragon"}})],1)]),e.players.length?o("li",[e._v(" Zoom "),o("em",[o("font-awesome-icon",{attrs:{icon:"search-minus"},on:{click:function(t){return e.setZoom(e.grimoire.zoom-1)}}}),e._v(" "+e._s(Math.round(100+10*e.grimoire.zoom))+"% "),o("font-awesome-icon",{attrs:{icon:"search-plus"},on:{click:function(t){return e.setZoom(e.grimoire.zoom+1)}}})],1)]):e._e(),o("li",{on:{click:e.setBackground}},[e._v(" Imagem de Fundo "),o("em",[o("font-awesome-icon",{attrs:{icon:"image"}})],1)])]:e._e(),"session"===e.tab?[e.session.sessionId?o("li",{staticClass:"headline"},[e._v(" "+e._s(e.session.isSpectator?"Playing":"Hosting")+" ")]):o("li",{staticClass:"headline"},[e._v(" Live Session ")]),e.session.sessionId?e._e():o("li",{on:{click:e.hostSession}},[e._v(" Anfitri√£o (Storyteller)"),o("em",[e._v("[H]")])]),e.session.sessionId?e._e():o("li",{on:{click:e.joinSession}},[e._v(" Entrar (Jogador)"),o("em",[e._v("[J]")])]),e.session.sessionId&&e.session.ping?o("li",[e._v(" Delay to "+e._s(e.session.isSpectator?"host":"players")+" "),o("em",[e._v(e._s(e.session.ping)+"ms")])]):e._e(),e.session.sessionId?o("li",{on:{click:e.copySessionUrl}},[e._v(" Copy player link "),o("em",[o("font-awesome-icon",{attrs:{icon:"copy"}})],1)]):e._e(),e.session.sessionId?o("li",{on:{click:e.leaveSession}},[e._v(" Leave Session "),o("em",[e._v(e._s(e.session.sessionId))])]):e._e()]:e._e(),"players"!==e.tab||e.session.isSpectator?e._e():[o("li",{staticClass:"headline"},[e._v("Players")]),e.players.length<20?o("li",{on:{click:e.addPlayer}},[e._v("Adicionar Jogador"),o("em",[e._v("[A]")])]):e._e(),e.players.length>2?o("li",{on:{click:e.randomizeSeatings}},[e._v(" Randomizar Cadeiras "),o("em",[o("font-awesome-icon",{attrs:{icon:"dice"}})],1)]):e._e(),e.players.length?o("li",{on:{click:e.clearPlayers}},[e._v(" Remover Tudo "),o("em",[o("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):e._e()],"characters"===e.tab?[o("li",{staticClass:"headline"},[e._v("Characters")]),e.session.isSpectator?e._e():o("li",{on:{click:function(t){return e.toggleModal("edition")}}},[e._v(" Selecionar Edi√ß√£o "),o("em",[e._v("[E]")])]),!e.session.isSpectator&&e.players.length>4?o("li",{on:{click:function(t){return e.toggleModal("roles")}}},[e._v(" Escolher e Atribuir "),o("em",[e._v("[C]")])]):e._e(),e.players.length?o("li",{on:{click:e.clearRoles}},[e._v(" Remover Tudo "),o("em",[o("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):e._e()]:e._e(),"help"===e.tab?[o("li",{staticClass:"headline"},[e._v("Help")]),o("li",{on:{click:function(t){return e.toggleModal("reference")}}},[e._v(" Folha de Refer√™ncia "),o("em",[e._v("[R]")])]),o("li",{on:{click:function(t){return e.toggleModal("nightOrder")}}},[e._v(" Folha de Refen√™ncia da Noite "),o("em",[e._v("[N]")])]),o("li",[o("a",{attrs:{href:"https://discord.gg/pywK3x5N",target:"_blank"}},[e._v(" Entrar no Discord ")]),o("em",[o("a",{attrs:{href:"https://discord.gg/Gd7ybwWbFk",target:"_blank"}},[o("font-awesome-icon",{attrs:{icon:["fab","discord"]}})],1)])]),o("li",[o("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[e._v(" Source code ")]),o("em",[o("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[o("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1)])])]:e._e()],2)],1)],1)},X=[],ee=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"screenshot"}},[o("video",{ref:"video",attrs:{autoplay:""}}),o("canvas",{ref:"canvas"})])},te=[],oe={data:function(){return{stream:null}},methods:{async capture({x:e=0,y:t=0,width:o=0,height:i=0}){const s=this.$refs.canvas,a=this.$refs.video;if(!this.stream||!this.stream.active){alert("Please select to stream the current browser tab to get the appropriate screenshots");try{this.stream=await navigator.mediaDevices.getDisplayMedia({video:{cursor:"never"},audio:!1})}catch(r){this.$store.commit("updateScreenshot",!1)}}this.stream&&this.stream.active&&(a.srcObject=this.stream,a.play(),setTimeout(()=>{const n=s.getContext("2d");s.setAttribute("width",o||a.videoWidth),s.setAttribute("height",i||a.videoHeight),n.drawImage(a,e||0,t||0,o||a.videoWidth,i||a.videoHeight,0,0,o||a.videoWidth,i||a.videoHeight),s.toBlob(e=>{try{const t=new ClipboardItem({"image/png":e});navigator.clipboard.write([t]),this.$store.commit("updateScreenshot",!0)}catch(r){this.$store.commit("updateScreenshot",!1)}})},100))}}},ie=oe,se=(o("1b90"),Object(f["a"])(ie,ee,te,!1,null,"6443af38",null)),ae=se.exports,re={components:{Screenshot:ae},computed:{...Object(r["d"])(["grimoire","session"]),...Object(r["d"])("players",["players"])},data(){return{tab:"grimoire"}},methods:{takeScreenshot(e={}){this.$store.commit("updateScreenshot"),this.$refs.screenshot.capture(e)},setBackground(){const e=prompt("Enter custom background URL");(e||""===e)&&this.$store.commit("setBackground",e)},hostSession(){const e=prompt("Enter a channel number / name for your session",Math.round(1e4*Math.random()));e&&(this.$store.commit("session/setSpectator",!1),this.$store.commit("session/setSessionId",e.toLocaleLowerCase().replace(/[^0-9a-z]/g,"").substr(0,10)),this.copySessionUrl())},copySessionUrl(){navigator.permissions.query({name:"clipboard-write"}).then(({state:e})=>{if("granted"===e||"prompt"===e){const e=window.location.href.split("#")[0],t=e+"#play/"+this.session.sessionId;navigator.clipboard.writeText(t)}})},joinSession(){const e=prompt("Enter the channel number / name of the session you want to join");e&&(this.$store.commit("session/setSpectator",!0),this.$store.commit("session/setSessionId",e.toLocaleLowerCase().replace(/[^0-9a-z]/g,"").substr(0,10)))},leaveSession(){confirm("Are you sure you want to leave the active live game?")&&(this.$store.commit("session/setSpectator",!1),this.$store.commit("session/setSessionId",""))},addPlayer(){if(this.session.isSpectator)return;if(this.players.length>=20)return;const e=prompt("Player name");e&&this.$store.commit("players/add",e)},randomizeSeatings(){this.session.isSpectator||confirm("Are you sure you want to randomize seatings?")&&this.$store.dispatch("players/randomize")},clearPlayers(){this.session.isSpectator||confirm("Are you sure you want to remove all players?")&&(this.$store.commit("players/clear"),this.$store.commit("setBluff"))},clearRoles(){confirm("Are you sure you want to remove all player roles?")&&(this.$store.dispatch("players/clearRoles"),this.$store.commit("setBluff"))},...Object(r["c"])(["toggleGrimoire","toggleMenu","toggleNightOrder","updateScreenshot","setZoom","toggleModal"])}},ne=re,le=(o("f8ab"),Object(f["a"])(ne,Q,X,!1,null,"b6503de0",null)),ce=le.exports,de=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.nonTravelers>=5?o("Modal",{directives:[{name:"show",rawName:"v-show",value:e.modals.roles,expression:"modals.roles"}],staticClass:"roles",on:{close:function(t){return e.toggleModal("roles")}}},[o("h3",[e._v("Selecione os Personagens para "+e._s(e.nonTravelers)+" Jogadores:")]),e._l(e.roleSelection,(function(t,i){return o("ul",{key:i,staticClass:"tokens"},[o("li",{staticClass:"count",class:[i]},[e._v(" "+e._s(t.filter((function(e){return e.selected})).length)+" / "+e._s(e.game[e.nonTravelers-5][i])+" ")]),e._l(t,(function(e){return o("li",{key:e.id,class:[e.team,e.selected?"selected":""],on:{click:function(t){e.selected=!e.selected}}},[o("Token",{attrs:{role:e}})],1)}))],2)})),e.hasSelectedSetupRoles?o("div",{staticClass:"warning"},[e._v(" Aviso: existem personagens selecionados que modificam a configura√ß√£o do jogo! O randomizador n√£o leva em conta esses personagens. ")]):e._e(),o("div",{staticClass:"button-group"},[o("div",{staticClass:"button",class:{disabled:e.selectedRoles>e.nonTravelers||!e.selectedRoles},on:{click:e.assignRoles}},[o("font-awesome-icon",{attrs:{icon:"people-arrows"}}),e._v(" Atribuir "+e._s(e.selectedRoles)+" personagens aleatoriamente ")],1),o("div",{staticClass:"button",on:{click:e.selectRandomRoles}},[o("font-awesome-icon",{attrs:{icon:"random"}}),e._v(" Aleatorizar Personagens ")],1)])],2):e._e()},he=[];const me=e=>e[Math.floor(Math.random()*e.length)];var pe={components:{Token:b,Modal:j},data:function(){return{roleSelection:{},game:J}},computed:{selectedRoles:function(){return Object.values(this.roleSelection).map(e=>e.filter(e=>e.selected).length).reduce((e,t)=>e+t,0)},hasSelectedSetupRoles:function(){return Object.values(this.roleSelection).some(e=>e.some(e=>e.selected&&e.setup))},...Object(r["d"])(["roles","modals"]),...Object(r["d"])("players",["players"]),...Object(r["b"])({nonTravelers:"players/nonTravelers"})},methods:{selectRandomRoles(){this.roleSelection={},this.roles.forEach(e=>{this.roleSelection[e.team]||this.$set(this.roleSelection,e.team,[]),this.roleSelection[e.team].push(e),this.$set(e,"selected",!1)}),delete this.roleSelection["traveler"];const e=Math.max(5,this.nonTravelers),t=this.game[e-5];Object.keys(t).forEach(e=>{for(let o=0;o<t[e];o++)if(this.roleSelection[e]){const t=this.roleSelection[e].filter(e=>!0!==e.selected);t.length&&(me(t).selected=!0)}})},assignRoles(){if(this.selectedRoles<=this.nonTravelers&&this.selectedRoles){const e=Object.values(this.roleSelection).map(e=>e.filter(e=>e.selected)).reduce((e,t)=>[...e,...t],[]).map(e=>[Math.random(),e]).sort((e,t)=>e[0]-t[0]).map(e=>e[1]);this.players.forEach(t=>{if("traveler"!==t.role.team&&e.length){const o=e.pop();this.$store.commit("players/update",{player:t,property:"role",value:o})}}),this.$store.commit("toggleModal","roles")}},...Object(r["c"])(["toggleModal"])},mounted:function(){Object.keys(this.roleSelection).length||this.selectRandomRoles()},watch:{roles(){this.selectRandomRoles()}}},ge=pe,ue=(o("8fde"),Object(f["a"])(ge,de,he,!1,null,"43adf97a",null)),fe=ue.exports,ye=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Modal",{directives:[{name:"show",rawName:"v-show",value:e.modals.edition,expression:"modals.edition"}],staticClass:"editions",on:{close:function(t){return e.toggleModal("edition")}}},[e.isCustom?o("div",{staticClass:"custom"},[o("h3",[e._v("Load custom script / characters")]),e._v(" Para jogar com um custom script, voc√™ precisa selecionar os personagens que voc√™ quer para jogar com a ferramenta oficial "),o("a",{attrs:{href:"https://bloodontheclocktower.com/script-tool/",target:"_blank"}},[e._v("Script Tool")]),e._v(' e fazer o upload do "custom-list.json" gerado diretamente aqui ou forne√ßa uma URL para esse arquivo JSON hospedado..'),o("br"),o("br"),e._v(" Para jogar com personagens personalizados, por favor leia "),o("a",{attrs:{href:"https://github.com/bra1n/townsquare#custom-characters",target:"_blank"}},[e._v("the documentation")]),e._v(" sobre como escrever um arquivo de defini√ß√£o de caracteres personalizados. "),o("h3",[e._v("Alguns Custom Scripts Populares:")]),o("ul",{staticClass:"scripts"},e._l(e.scripts,(function(t,i){return o("li",{key:i,on:{click:function(o){return e.handleURL(t[1])}}},[e._v(" "+e._s(t[0])+" ")])})),0),o("input",{ref:"upload",attrs:{type:"file",accept:"application/json"},on:{change:e.handleUpload}}),o("div",{staticClass:"button-group"},[o("div",{staticClass:"button",on:{click:e.openUpload}},[o("font-awesome-icon",{attrs:{icon:"file-upload"}}),e._v(" Upload JSON ")],1),o("div",{staticClass:"button",on:{click:e.promptURL}},[o("font-awesome-icon",{attrs:{icon:"link"}}),e._v(" Enter URL ")],1),o("div",{staticClass:"button",on:{click:function(t){e.isCustom=!1}}},[o("font-awesome-icon",{attrs:{icon:"undo"}}),e._v(" Voltar ")],1)])]):o("div",[o("h3",[e._v("Select an edition:")]),o("ul",{staticClass:"editions"},[e._l(e.editions,(function(t){return o("li",{key:t.id,staticClass:"edition",class:["edition-"+t.id],on:{click:function(o){return e.setEdition(t.id)}}},[e._v(" "+e._s(t.name)+" ")])})),o("li",{staticClass:"edition edition-custom",on:{click:function(t){e.isCustom=!0}}},[e._v(" Custom Script / Characters ")])],2)])])},be=[],ve=o("00c0"),ke={components:{Modal:j},data:function(){return{editions:ve,isCustom:!1,scripts:[["Deadly Penance Day","https://gist.githubusercontent.com/bra1n/0337cc44c6fd2c44f7589256ed5486d2/raw/4a7a1545004620146f47583cde4b05f77dd9b6d2/penanceday.json"],["Catfishing 9.0","https://gist.githubusercontent.com/bra1n/8a5ec41a7bbf945f6b7dfc1cef72b569/raw/998767f82badc48cbb9c284765ad36330f7e28f6/catfishing.json"],["On Thin Ice (Teensyville)","https://gist.githubusercontent.com/bra1n/8dacd9f2abc6f428331ea1213ab153f5/raw/0cacbcaf8ed9bddae0cca25a9ada97e9958d868b/on-thin-ice.json"],["Race To The Bottom (Teensyville)","https://gist.githubusercontent.com/bra1n/63e1354cb3dc9d4032bcd0623dc48888/raw/5acb0eedcc0a67a64a99c7e0e6271de0b7b2e1b2/race-to-the-bottom.json"],["Frankenstein's Mayor by Ted (Teensyville)","https://gist.githubusercontent.com/bra1n/32c52b422cc01b934a4291eeb81dbcee/raw/5bf770693bbf7aff5e86601c82ca4af3222f4ba6/Frankensteins_Mayor_by_Ted.json"],["Vigormortis High School (Teensyville)","https://gist.githubusercontent.com/bra1n/1f65bd4a999524719d5dabe98c3c2d27/raw/22bbec6bf56a51a7459e5ae41ed47e41971c5445/VigormortisHighSchool.json"]]}},computed:Object(r["d"])(["modals"]),methods:{openUpload(){this.$refs.upload.click()},handleUpload(){const e=this.$refs.upload.files[0];if(e&&e.size){const t=new FileReader;t.addEventListener("load",()=>{try{const e=JSON.parse(t.result);this.parseRoles(e)}catch(e){alert("Error reading custom script: "+e.message)}this.$refs.upload.value=""}),t.readAsText(e)}},promptURL(){const e=prompt("Enter URL to a custom-script.json file");e&&this.handleURL(e)},async handleURL(e){const t=await fetch(e);if(t&&t.json)try{const e=await t.json();this.parseRoles(e)}catch(o){alert("Error loading custom script: "+o.message)}},parseRoles(e){if(!e||!e.length)return;const t=e.map(e=>(e.id=e.id.toLocaleLowerCase().replace(/[^a-z0-9]/g,""),e));if(this.$store.commit("setCustomRoles",t),this.$store.commit("setEdition","custom"),t.some(({id:e})=>this.$store.state.fabled.has(e))){const e=[];t.forEach(({id:t})=>{this.$store.state.fabled.has(t)&&e.push(this.$store.state.fabled.get(t))}),this.$store.commit("setFabled",{fabled:e})}this.isCustom=!1},...Object(r["c"])(["toggleModal","setEdition"])}},Ne=ke,we=(o("357c"),Object(f["a"])(Ne,ye,be,!1,null,"7f189f72",null)),_e=we.exports,Se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"intro"},[o("img",{attrs:{src:"static/apple-icon.png",alt:""}}),e._v(" Bem vindos ao (n√£o-oficial) "),o("b",[e._v(" Blood on the Clocktower Town Square Virtual ")]),e._v("!"),o("br"),e._v(" Por favor, adicione mais jogadores atrav√©s do "),o("span",{staticClass:"button",on:{click:e.toggleMenu}},[o("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(" Menu ")],1),e._v(" no canto superior direito ou pressionando "),o("b",[e._v("[A]")]),e._v("."),o("br"),e._v(" Este projeto foi traduzido de uma vers√£o americana gratuita e de c√≥digo aberto e pode ser encontrado em "),o("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[e._v("GitHub")]),e._v(". ")])},Re=[],xe={methods:Object(r["c"])(["toggleMenu"])},Te=xe,Ce=(o("2e0f"),Object(f["a"])(Te,Se,Re,!1,null,"5a37d728",null)),Me=Ce.exports,je=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.roles.size?i("Modal",{directives:[{name:"show",rawName:"v-show",value:e.modals.reference,expression:"modals.reference"}],staticClass:"characters",on:{close:function(t){return e.toggleModal("reference")}}},[i("font-awesome-icon",{staticClass:"toggle",attrs:{icon:"cloud-moon",title:"Show Night Order"},on:{click:function(t){return e.toggleModal("nightOrder")}}}),i("h3",[e._v(" Refer√™ncia dos Personagens "),i("font-awesome-icon",{attrs:{icon:"address-card"}}),e._v(" "+e._s(e.editionName)+" ")],1),i("ul",{staticClass:"legend"},[i("li",[i("span",{staticClass:"name"},[e._v("Nome")]),i("span",{staticClass:"icon"},[e._v("Icone")]),i("span",{staticClass:"ability"},[e._v("Habilidade")]),Object.keys(e.playersByRole).length?i("span",{staticClass:"player"},[e._v(" Jogador ")]):e._e()])]),e._l(e.rolesGrouped,(function(t,s){return i("div",{key:s,class:[s]},[i("h4",[e._v(e._s(s))]),i("ul",e._l(t,(function(t){return i("li",{key:t.id,class:[s]},[i("span",{staticClass:"name"},[e._v(e._s(t.name))]),t.id?i("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image||o("61b0")("./"+t.id+".png"))+")"}}):e._e(),i("span",{staticClass:"ability"},[e._v(e._s(t.ability))]),Object.keys(e.playersByRole).length?i("span",{staticClass:"player"},[e._v(e._s(e.playersByRole[t.id]?e.playersByRole[t.id].join(", "):""))]):e._e()])})),0)])}))],2):e._e()},Oe=[],Ie={components:{Modal:j},data:function(){return{roleSelection:{}}},computed:{editionName:function(){const e=ve.find(({id:e})=>e===this.edition);return e?e.name:"Custom Script"},rolesGrouped:function(){const e={};return this.roles.forEach(t=>{e[t.team]||(e[t.team]=[]),e[t.team].push(t)}),delete e["traveler"],e},playersByRole:function(){const e={};return this.players.forEach(({name:t,role:o})=>{o&&o.id&&"traveler"!==o.team&&(e[o.id]||(e[o.id]=[]),e[o.id].push(t))}),e},...Object(r["d"])(["roles","modals","edition"]),...Object(r["d"])("players",["players"])},methods:{...Object(r["c"])(["toggleModal"])}},Pe=Ie,De=(o("030d"),Object(f["a"])(Pe,je,Oe,!1,null,"0ec9a2cb",null)),Ee=De.exports,Ve=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"vote"}},[o("div",{staticClass:"arrows"},[o("span",{staticClass:"nominee",style:e.nomineeStyle}),o("span",{staticClass:"nominator",style:e.nominatorStyle})]),o("div",{staticClass:"overlay"},[o("em",{staticClass:"blue"},[e._v(e._s(e.nominator.name))]),e._v(" nomeou "),o("em",[e._v(e._s(e.nominee.name))]),e._v("! "),o("br"),"traveler"!==e.nominee.role.team?[o("em",{staticClass:"blue"},[e._v(" "+e._s(e.voters.length)+" vote"+e._s(1!==e.voters.length?"s":"")+" ")]),e._v(" em favor "),o("em",[e._v("(maioria √© "+e._s(Math.ceil(e.alive/2))+")")])]:[o("em",[e._v(e._s(Math.ceil(e.players.length/2))+" votos")]),e._v(" requeridos para a "),o("em",[e._v("maioria")]),e._v(". ")],e.session.lockedVote>1?o("div",[e.voters.length?o("em",{staticClass:"blue"},[e._v(e._s(e.voters.join(", "))+" ")]):o("span",[e._v("ningu√©m")]),e._v(" votou "),o("em",[e._v("SIM")])]):e._e(),e.session.isSpectator?e.canVote?[e.session.lockedVote?e._e():o("div",[e._v(" "+e._s(e.session.votingSpeed)+" seconds between votes ")]),o("div",{staticClass:"button-group"},[o("div",{staticClass:"button vote-no",on:{click:function(t){return e.vote(!1)}}},[e._v("Voto N√ÉO")]),o("div",{staticClass:"button vote-yes",on:{click:function(t){return e.vote(!0)}}},[e._v("Voto SIM")])])]:e.player?e._e():o("div",[e._v(" Por favor reinvindique um assento para votar. ")]):[e.session.lockedVote?e._e():o("div",[e._v(" Tempo de voto por jogador: "),o("font-awesome-icon",{attrs:{icon:"minus-circle"},on:{mousedown:function(t){return t.preventDefault(),e.setVotingSpeed(-1)}}}),e._v(" "+e._s(e.session.votingSpeed)+"s "),o("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{mousedown:function(t){return t.preventDefault(),e.setVotingSpeed(1)}}})],1),o("div",{staticClass:"button-group"},[e.session.lockedVote?o("div",{staticClass:"button",on:{click:e.stop}},[e._v(" Reset Vote ")]):o("div",{staticClass:"button",on:{click:e.start}},[e._v(" Start Vote ")]),o("div",{staticClass:"button",on:{click:e.finish}},[e._v("Finish")])])]],2)])},$e=[],Be={computed:{...Object(r["d"])("players",["players"]),...Object(r["d"])(["session"]),...Object(r["b"])({alive:"players/alive"}),nominator:function(){return this.players[this.session.nomination[0]]},nominatorStyle:function(){const e=this.players.length,t=this.session.nomination[0];return{transform:`rotate(${Math.round(t/e*360)}deg)`,transitionDuration:this.session.votingSpeed-.1+"s"}},nominee:function(){return this.players[this.session.nomination[1]]},nomineeStyle:function(){const e=this.players.length,t=this.session.nomination[1],o=this.session.lockedVote,i=360*(t+Math.min(o,e))/e;return{transform:`rotate(${Math.round(i)}deg)`,transitionDuration:this.session.votingSpeed-.1+"s"}},player:function(){return this.players.find(e=>e.id===this.session.playerId)},canVote:function(){if(!this.player)return!1;if(this.player.isVoteless&&"traveler"!==this.nominee.role.team)return!1;const e=this.session,t=this.players.length,o=this.players.indexOf(this.player),i=(o-1+t-e.nomination[1])%t;return i>=e.lockedVote-1},voters:function(){const e=this.session.nomination[1],t=this.session.votes.map((e,t)=>e?this.players[t].name:""),o=[...t.slice(e+1,this.players.length),...t.slice(0,e+1)];return o.slice(0,this.session.lockedVote-1).filter(e=>!!e)}},methods:{start(){this.$store.commit("session/lockVote"),clearInterval(this.voteTimer),this.voteTimer=setInterval(()=>{this.$store.commit("session/lockVote"),this.session.lockedVote>this.players.length&&clearInterval(this.voteTimer)},1e3*this.session.votingSpeed)},stop(){clearInterval(this.voteTimer),this.$store.commit("session/lockVote",0)},finish(){clearInterval(this.voteTimer),this.$store.commit("session/nomination")},vote(e){if(!this.canVote)return!1;const t=this.players.findIndex(e=>e.id===this.session.playerId);t>=0&&!!this.session.votes[t]!==e&&this.$store.commit("session/voteSync",[t,e])},setVotingSpeed(e){const t=this.session.votingSpeed+e;t>0&&this.$store.commit("session/setVotingSpeed",t)}}},qe=Be,Fe=(o("58f6"),Object(f["a"])(qe,Ve,$e,!1,null,"123e427d",null)),Ae=Fe.exports,ze=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"gradients"}},e._l(e.gradients,(function(e,t){return o("svg",{key:t,attrs:{width:"0",height:"0"}},[o("linearGradient",{attrs:{id:e[0],x1:"50%",y1:"100%",x2:"50%",y2:"0%"}},[o("stop",{style:{"stop-color":e[2],"stop-opacity":1},attrs:{offset:"0%"}}),o("stop",{style:{"stop-color":e[1],"stop-opacity":1},attrs:{offset:"100%"}})],1)],1)})),0)},Le=[],Ge={data(){return{gradients:[["demon","#ce0100","#000"],["townsfolk","#1f65ff","#000"],["default","#4E4E4E","#000"]]}}},Ue=Ge,We=(o("3f8f"),Object(f["a"])(Ue,ze,Le,!1,null,"1e202a64",null)),Je=We.exports,He=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.roles.size?i("Modal",{directives:[{name:"show",rawName:"v-show",value:e.modals.nightOrder,expression:"modals.nightOrder"}],staticClass:"characters",on:{close:function(t){return e.toggleModal("nightOrder")}}},[i("font-awesome-icon",{staticClass:"toggle",attrs:{icon:"address-card",title:"Show Character Reference"},on:{click:function(t){return e.toggleModal("reference")}}}),i("h3",[e._v(" Ordem da Noite "),i("font-awesome-icon",{attrs:{icon:"cloud-moon"}}),e._v(" "+e._s(e.editionName)+" ")],1),i("div",{staticClass:"night"},[i("ul",{staticClass:"first"},[i("li",{staticClass:"headline"},[e._v("Primeira Noite")]),e._l(e.rolesFirstNight,(function(t){return i("li",{key:t.name,class:[t.team]},[i("span",{staticClass:"name"},[e._v(" "+e._s(t.name)+" ")]),t.id?i("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image||o("61b0")("./"+t.id+".png"))+")"}}):e._e()])}))],2),i("ul",{staticClass:"other"},[i("li",{staticClass:"headline"},[e._v("Outras Noites")]),e._l(e.rolesOtherNight,(function(t){return i("li",{key:t.name,class:[t.team]},[t.id?i("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image||o("61b0")("./"+t.id+".png"))+")"}}):e._e(),i("span",{staticClass:"name"},[e._v(" "+e._s(t.name)+" ")])])}))],2)])],1):e._e()},Ye=[],Ze={components:{Modal:j},data:function(){return{roleSelection:{}}},computed:{editionName:function(){const e=ve.find(({id:e})=>e===this.edition);return e?e.name:"Custom Script"},rolesFirstNight:function(){const e=[];return this.players.length>6&&e.push({id:"evil",name:"Minion info",firstNight:2,team:"minion"},{id:"evil",name:"Demon info & bluffs",firstNight:4,team:"demon"}),this.roles.forEach(t=>{t.firstNight&&("traveler"!==t.team||this.players.some(e=>e.role.id===t.id))&&e.push(t)}),e.sort((e,t)=>e.firstNight-t.firstNight),e},rolesOtherNight:function(){const e=[];return this.roles.forEach(t=>{t.otherNight&&("traveler"!==t.team||this.players.some(e=>e.role.id===t.id))&&e.push(t)}),e.sort((e,t)=>e.otherNight-t.otherNight),e},...Object(r["d"])(["roles","modals","edition"]),...Object(r["d"])("players",["players"])},methods:{...Object(r["c"])(["toggleModal"])}},Ke=Ze,Qe=(o("49b2"),Object(f["a"])(Ke,He,Ye,!1,null,"88ce2894",null)),Xe=Qe.exports,et=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Modal",{directives:[{name:"show",rawName:"v-show",value:e.modals.fabled&&e.fabled.length,expression:"modals.fabled && fabled.length"}],on:{close:function(t){return e.toggleModal("fabled")}}},[o("h3",[e._v(" Escolha um personagem de F√°bula para adicionar ao jogo ")]),o("ul",{staticClass:"tokens"},e._l(e.fabled,(function(t){return o("li",{key:t.id,on:{click:function(o){return e.setFabled(t)}}},[o("Token",{attrs:{role:t}})],1)})),0)])},tt=[],ot={components:{Token:b,Modal:j},computed:{...Object(r["d"])(["modals","fabled","grimoire"]),fabled(){const e=[];return this.$store.state.fabled.forEach(t=>{this.$store.state.grimoire.fabled.some(e=>e.id===t.id)||e.push(t)}),e}},methods:{setFabled(e){this.$store.commit("setFabled",{fabled:e}),this.$store.commit("toggleModal","fabled")},...Object(r["c"])(["toggleModal"])}},it=ot,st=(o("4dcd"),Object(f["a"])(it,et,tt,!1,null,"028a7056",null)),at=st.exports,rt={components:{FabledModal:at,NightOrderModal:Xe,Vote:Ae,ReferenceModal:Ee,Intro:Me,TownInfo:K,TownSquare:G,Menu:ce,EditionModal:_e,RolesModal:fe,Gradients:Je},computed:{...Object(r["d"])(["grimoire","session"]),...Object(r["d"])("players",["players"])},data(){return{version:n["a"]}},methods:{takeScreenshot(e){this.$refs.menu.takeScreenshot(e)},keyup({key:e,ctrlKey:t,metaKey:o}){if(!t&&!o)switch(e.toLocaleLowerCase()){case"g":this.$store.commit("toggleGrimoire");break;case"a":this.$refs.menu.addPlayer();break;case"h":this.$refs.menu.hostSession();break;case"j":this.$refs.menu.joinSession();break;case"r":this.$store.commit("toggleModal","reference");break;case"n":this.$store.commit("toggleModal","nightOrder");break;case"e":if(this.session.isSpectator)return;this.$store.commit("toggleModal","edition");break;case"c":if(this.session.isSpectator)return;this.$store.commit("toggleModal","roles");break;case"escape":this.$store.commit("toggleModal")}}}},nt=rt,lt=(o("5c0b"),Object(f["a"])(nt,s,a,!1,null,null,null)),ct=lt.exports,dt=o("dfb1"),ht=o.n(dt),mt=o("b1d9");class pt{constructor(e){this._wss="wss://baumgart.biz:8080/",this._socket=null,this._isSpectator=!0,this._gamestate=[],this._store=e,this._pingInterval=3e4,this._pingTimer=null,this._reconnectTimer=null,this._players={},this._pings={},this._store.state.session.sessionId&&this.connect(this._store.state.session.sessionId)}_open(e){this.disconnect(),this._socket=new WebSocket(this._wss+e+(this._isSpectator?"":"-host")),this._socket.addEventListener("message",this._handleMessage.bind(this)),this._socket.onopen=this._onOpen.bind(this),this._socket.onclose=t=>{this._socket=null,clearInterval(this._pingTimer),this._pingTimer=null,1e3!==t.code?(this._store.commit("session/setReconnecting",!0),this._reconnectTimer=setTimeout(()=>this.connect(e),3e3)):(this._store.commit("session/setSessionId",""),t.reason&&alert(t.reason))}}_send(e,t){this._socket&&1===this._socket.readyState&&this._socket.send(JSON.stringify([e,t]))}_onOpen(){this._isSpectator?this._send("req","gs"):this.sendGamestate(),this._ping()}_ping(){this._send("ping",[this._isSpectator,this._store.state.session.playerId,"latency"]),this._handlePing(),clearTimeout(this._pingTimer),this._pingTimer=setTimeout(this._ping.bind(this),this._pingInterval)}_handleMessage({data:e}){let t,o;try{[t,o]=JSON.parse(e)}catch(i){console.log("unsupported socket message",e)}switch(t){case"req":"gs"===o&&this.sendGamestate();break;case"edition":this._updateEdition(o);break;case"fabled":this._updateFabled(o);break;case"gs":this._updateGamestate(o);break;case"player":this._updatePlayer(o);break;case"claim":this._updateSeat(o);break;case"ping":this._handlePing(o);break;case"nomination":if(!this._isSpectator)return;this._store.commit("session/nomination",{nomination:o});break;case"swap":if(!this._isSpectator)return;this._store.commit("players/swap",o);break;case"move":if(!this._isSpectator)return;this._store.commit("players/move",o);break;case"votingSpeed":if(!this._isSpectator)return;this._store.commit("session/setVotingSpeed",o);break;case"vote":this._handleVote(o);break;case"lock":this._handleLock(o);break;case"bye":this._handleBye(o);break}}connect(e){this._store.state.session.playerId||this._store.commit("session/setPlayerId",Math.random().toString(36).substr(2)),this._pings={},this._store.commit("session/setPlayerCount",0),this._store.commit("session/setPing",0),this._isSpectator=this._store.state.session.isSpectator,this._open(e)}disconnect(){this._pings={},this._store.commit("session/setPlayerCount",0),this._store.commit("session/setPing",0),this._store.commit("session/setReconnecting",!1),clearTimeout(this._reconnectTimer),this._socket&&(this._send("bye",this._store.state.session.playerId),this._socket.close(1e3),this._socket=null)}sendGamestate(){if(this._isSpectator)return;this._gamestate=this._store.state.players.players.map(e=>({name:e.name,id:e.id,isDead:e.isDead,isVoteless:e.isVoteless,...e.role&&"traveler"===e.role.team?{roleId:e.role.id}:{}}));const{session:e}=this._store.state;this.sendEdition(),this.sendFabled(),this._send("gs",{gamestate:this._gamestate,nomination:e.nomination,votingSpeed:e.votingSpeed,lockedVote:e.lockedVote,...e.nomination?{votes:e.votes}:{}})}_updateGamestate(e){if(!this._isSpectator)return;const{gamestate:t,nomination:o,votingSpeed:i,votes:s,lockedVote:a}=e;this._store.commit("session/nomination",{nomination:o,votes:s,votingSpeed:i,lockedVote:a});const r=this._store.state.players.players;if(r.length<t.length)for(let n=r.length;n<t.length;n++)this._store.commit("players/add",t[n].name);else if(r.length>t.length)for(let n=r.length;n>t.length;n--)this._store.commit("players/remove",n-1);t.forEach((e,t)=>{const o=r[t],{roleId:i}=e;if(["name","id","isDead","isVoteless"].forEach(t=>{const i=e[t];o[t]!==i&&this._store.commit("players/update",{player:o,property:t,value:i})}),i&&o.role.id!==i){const e=mt.find(e=>e.id===i);this._store.commit("players/update",{player:o,property:"role",value:e})}else i||"traveler"!==o.role.team||this._store.commit("players/update",{player:o,property:"role",value:{}})})}sendEdition(){if(this._isSpectator)return;const{edition:e}=this._store.state;let t;"custom"===e&&(t=this._store.getters.customRoles),this._send("edition",{edition:e,...t?{roles:t}:{}})}_updateEdition({edition:e,roles:t}){this._isSpectator&&(this._store.commit("setEdition",e),t&&this._store.commit("setCustomRoles",t))}sendFabled(){if(this._isSpectator)return;const{fabled:e}=this._store.state.grimoire;this._send("fabled",e.map(({id:e})=>e))}_updateFabled(e){this._isSpectator&&this._store.commit("setFabled",{fabled:e.map(e=>this._store.state.fabled.get(e))})}sendPlayer({player:e,property:t,value:o}){if(this._isSpectator||"reminders"===t)return;const i=this._store.state.players.players.indexOf(e);"role"===t?o.team&&"traveler"===o.team?(this._gamestate[i].roleId=o.id,this._send("player",{index:i,property:t,value:o.id})):this._gamestate[i].roleId&&(delete this._gamestate[i].roleId,this._send("player",{index:i,property:t,value:""})):this._send("player",{index:i,property:t,value:o})}_updatePlayer({index:e,property:t,value:o}){const i=this._store.state.players.players[e];if(i)if("role"===t)if(o||"traveler"!==i.role.team){const e=mt.find(e=>e.id===o);this._store.commit("players/update",{player:i,property:"role",value:e})}else this._store.commit("players/update",{player:i,property:"role",value:{}});else this._store.commit("players/update",{player:i,property:t,value:o})}_handlePing([e,t,o]=[]){const i=(new Date).getTime();for(let s in this._players)i-this._players[s]>2*this._pingInterval&&(delete this._players[s],delete this._pings[s]);if(this._store.state.players.players.forEach(e=>{this._isSpectator||!e.id||this._players[e.id]||this._store.commit("players/update",{player:e,property:"id",value:""})}),t){this._players[t]=i;const s=parseInt(o,10);if(s&&s>0&&s<3e4)if(this._isSpectator&&!e)this._store.commit("session/setPing",s);else if(!this._isSpectator){this._pings[t]=s;const e=Object.values(this._pings);this._store.commit("session/setPing",Math.round(e.reduce((e,t)=>e+t,0)/e.length))}}this._store.commit("session/setPlayerCount",Object.keys(this._players).length)}_handleBye(e){delete this._players[e],this._store.commit("session/setPlayerCount",Object.keys(this._players).length)}claimSeat(e){this._isSpectator&&this._store.state.players.players.length>e&&this._send("claim",[e,this._store.state.session.playerId])}_updateSeat([e,t]){if(this._isSpectator)return;const o="id",i=this._store.state.players.players,s=i.findIndex(({id:e})=>e===t);if(s>=0&&s!==e&&this._store.commit("players/update",{player:i[s],property:o,value:""}),e>=0){const s=i[e];if(!s)return;this._store.commit("players/update",{player:s,property:o,value:t})}this._handlePing([!0,t])}nomination({nomination:e}={}){if(this._isSpectator)return;const t=this._store.state.players.players;(!e||t.length>e[0]&&t.length>e[1])&&(this.setVotingSpeed(this._store.state.session.votingSpeed),this._send("nomination",e))}setVotingSpeed(e){this._isSpectator||e&&this._send("votingSpeed",e)}vote([e]){const t=this._store.state.players.players[e];this._store.state.session.playerId!==t.id&&this._isSpectator||this._send("vote",[e,this._store.state.session.votes[e],!this._isSpectator])}_handleVote([e,t,o]){const{session:i,players:s}=this._store.state,a=s.players.length,r=(e-1+a-i.nomination[1])%a;(o||r>=i.lockedVote-1)&&this._store.commit("session/vote",[e,t])}lockVote(){if(this._isSpectator)return;const{lockedVote:e,votes:t,nomination:o}=this._store.state.session,{players:i}=this._store.state.players,s=(o[1]+e-1)%i.length;this._send("lock",[this._store.state.session.lockedVote,t[s]])}_handleLock([e,t]){if(this._store.commit("session/lockVote",e),e>1){const{lockedVote:e,nomination:o}=this._store.state.session,{players:i}=this._store.state.players,s=(o[1]+e-1)%i.length;this._store.state.session.votes[s]!==t&&this._store.commit("session/vote",[s,t])}}swapPlayer(e){this._isSpectator||this._send("swap",e)}movePlayer(e){this._isSpectator||this._send("move",e)}}var gt=e=>{const t=new pt(e);e.subscribe(({type:e,payload:o})=>{switch(e){case"session/setSessionId":o?t.connect(o):(window.location.hash="",t.disconnect());break;case"session/claimSeat":t.claimSeat(o);break;case"session/nomination":t.nomination(o);break;case"session/voteSync":t.vote(o);break;case"session/lockVote":t.lockVote();break;case"session/setVotingSpeed":t.setVotingSpeed(o);break;case"setEdition":t.sendEdition();break;case"setFabled":t.sendFabled();break;case"players/swap":t.swapPlayer(o);break;case"players/move":t.movePlayer(o);break;case"players/set":case"players/clear":case"players/remove":case"players/add":t.sendGamestate();break;case"players/update":t.sendPlayer(o);break}});const[o,i]=window.location.hash.substr(1).split("/");"play"===o&&(e.commit("session/setSpectator",!0),e.commit("session/setSessionId",i))};const ut={name:"",id:"",role:{},reminders:[],isVoteless:!1,isDead:!1},ft=()=>({players:[]}),yt={alive({players:e}){return e.filter(e=>!e.isDead).length},nonTravelers({players:e}){const t=e.filter(e=>"traveler"!==e.role.team);return Math.min(t.length,15)},nightOrder({players:e}){const t=[0],o=[0];e.forEach(({role:e})=>{e.firstNight&&!t.includes(e.firstNight)&&t.push(e.firstNight),e.otherNight&&!o.includes(e.otherNight)&&o.push(e.otherNight)}),t.sort((e,t)=>e-t),o.sort((e,t)=>e-t);const i=new Map;return e.forEach(e=>{const s=Math.max(t.indexOf(e.role.firstNight),0),a=Math.max(o.indexOf(e.role.otherNight),0);i.set(e,{first:s,other:a})}),i}},bt={randomize({state:e,commit:t}){const o=e.players.map(e=>[Math.random(),e]).sort((e,t)=>e[0]-t[0]).map(e=>e[1]);t("set",o)},clearRoles({state:e,commit:t,rootState:o}){let i;i=o.session.isSpectator?e.players.map(e=>("traveler"!==e.role.team&&(e.role={}),e.reminders=[],e)):e.players.map(({name:e,id:t})=>({...ut,name:e,id:t})),t("set",i)}},vt={clear(e){e.players=[]},set(e,t=[]){e.players=t},update(e,{player:t,property:o,value:i}){const s=e.players.indexOf(t);s>=0&&(e.players[s][o]=i)},add(e,t){e.players.push({...ut,name:t})},remove(e,t){e.players.splice(t,1)},swap(e,[t,o]){[e.players[t],e.players[o]]=[e.players[o],e.players[t]],e.players.splice(0,0)},move(e,[t,o]){e.players.splice(o,0,e.players.splice(t,1)[0])}};var kt={namespaced:!0,state:ft,getters:yt,actions:bt,mutations:vt};const Nt=e=>(t,o)=>{t[e]=o},wt=(e,[t,o])=>{e.nomination&&(e.votes=[...e.votes],e.votes[t]=void 0===o?!e.votes[t]:o)},_t=()=>({sessionId:"",isSpectator:!1,isReconnecting:!1,playerCount:0,ping:0,playerId:"",claimedSeat:-1,nomination:!1,votes:[],lockedVote:0,votingSpeed:3}),St={},Rt={},xt={setSessionId:Nt("sessionId"),setPlayerId:Nt("playerId"),setSpectator:Nt("isSpectator"),setReconnecting:Nt("isReconnecting"),setPlayerCount:Nt("playerCount"),setPing:Nt("ping"),setVotingSpeed:Nt("votingSpeed"),claimSeat:Nt("claimedSeat"),nomination(e,{nomination:t,votes:o,votingSpeed:i,lockedVote:s}={}){e.nomination=t||!1,e.votes=o||[],e.votingSpeed=i||e.votingSpeed,e.lockedVote=s||0},vote:wt,voteSync:wt,lockVote(e,t){e.lockedVote=void 0!==t?t:e.lockedVote+1}};var Tt={namespaced:!0,state:_t,getters:St,actions:Rt,mutations:xt},Ct=o("b249");i["a"].use(r["a"]);const Mt=new Map(mt.map(e=>[e.id,e])),jt=new Map(Ct.map(e=>[e.id,e])),Ot=(e="tb")=>{const t=ve.find(({id:t})=>t===e)||ve[0];return new Map(mt.filter(o=>o.edition===e||t.roles.includes(o.id)).sort((e,t)=>t.team.localeCompare(e.team)).map(e=>[e.id,e]))},It="https://raw.githubusercontent.com/bra1n/townsquare/main/src/assets/icons/",Pt={image:"",edition:"custom",firstNight:0,firstNightReminder:"",otherNight:0,otherNightReminder:"",reminders:[],remindersGlobal:[],setup:!1,team:"townsfolk",isCustom:!0};var Dt=new r["a"].Store({modules:{players:kt,session:Tt},state:{grimoire:{isNightOrder:!0,isPublic:!0,isMenuOpen:!1,isScreenshot:!1,isScreenshotSuccess:!1,zoom:0,background:"",bluffs:[],fabled:[]},modals:{edition:!1,fabled:!1,nightOrder:!1,reference:!1,reminder:!1,role:!1,roles:!1},edition:"tb",roles:Ot(),fabled:jt},getters:{customRoles:({roles:e})=>{const t=[];return e.forEach(e=>{if(e.isCustom){const o={};for(let t in e){const i=e[t];"image"===t&&i.match(new RegExp("^"+It))||"isCustom"!==t&&i!==Pt[t]&&(o[t]=i)}t.push(o)}else t.push({id:e.id})}),t}},mutations:{toggleMenu({grimoire:e}){e.isMenuOpen=!e.isMenuOpen},toggleGrimoire({grimoire:e},t){e.isPublic=!0===t||!1===t?t:!e.isPublic,document.title="Blood on the Clocktower "+(e.isPublic?"Town Square":"Grimoire")},toggleNightOrder({grimoire:e}){e.isNightOrder=!e.isNightOrder},setZoom({grimoire:e},t){e.zoom=t},setBackground({grimoire:e},t){e.background=t},setBluff({grimoire:e},{index:t,role:o}={}){void 0!==t?e.bluffs.splice(t,1,o):e.bluffs=[]},setFabled({grimoire:e},{index:t,fabled:o}={}){void 0!==t?e.fabled.splice(t,1):o&&(Array.isArray(o)?e.fabled=o:e.fabled.push(o))},toggleModal({modals:e},t){t&&(e[t]=!e[t]);for(let o in e)o!==t&&(e[o]=!1)},updateScreenshot({grimoire:e},t){!0!==t&&!1!==t?(e.isScreenshotSuccess=!1,e.isScreenshot=!0):(e.isScreenshotSuccess=t,e.isScreenshot=!1)},setCustomRoles(e,t){e.roles=new Map(t.map(e=>Mt.get(e.id)||Object.assign({},Pt,e)).map(e=>(Mt.get(e.id)||("townsfolk"===e.team||"outsider"===e.team?e.image=e.image||It+"good.png":"demon"===e.team||"minion"===e.team?e.image=e.image||It+"evil.png":e.image=e.image||It+"custom.png"),e)).filter(e=>e.name&&e.ability&&e.team).sort((e,t)=>t.team.localeCompare(e.team)).map(e=>[e.id,e]))},setEdition(e,t){e.edition=t,e.modals.edition=!1,"custom"!==t&&(e.roles=Ot(t))}},plugins:[ht.a,gt]}),Et=o("ecee"),Vt=o("c074"),$t=o("f2d1"),Bt=o("ad3d");const qt=["AddressCard","BookOpen","BroadcastTower","Camera","Chair","CheckSquare","CloudMoon","Cog","Copy","Dice","Dragon","ExchangeAlt","FileUpload","HandPointRight","Heartbeat","Image","Link","MinusCircle","PeopleArrows","PlusCircle","Question","Random","RedoAlt","SearchMinus","SearchPlus","Skull","Square","TheaterMasks","Times","TimesCircle","TrashAlt","Undo","User","UserEdit","UserFriends","Users","VoteYea"],Ft=["Github","Discord"];Et["c"].add(...qt.map(e=>Vt["a"]["fa"+e]),...Ft.map(e=>$t["a"]["fa"+e])),i["a"].component("font-awesome-icon",Bt["a"]),i["a"].config.productionTip=!1,new i["a"]({render:e=>e(ct),store:Dt}).$mount("#app")},"58f6":function(e,t,o){"use strict";var i=o("8c2b"),s=o.n(i);s.a},"5bd9":function(e,t,o){e.exports=o.p+"img/cannibal.e2bfb541.png"},"5c0b":function(e,t,o){"use strict";var i=o("9c0c"),s=o.n(i);s.a},"5c56":function(e,t,o){e.exports=o.p+"img/duchess.cfec75dc.png"},"5c8e":function(e,t,o){e.exports=o.p+"img/goblin.7ebbd9ad.png"},"5cf2":function(e,t,o){e.exports=o.p+"img/x.fbca4d75.png"},"5dc1":function(e,t,o){},"61b0":function(e,t,o){var i={"./acrobat.png":"887b","./amnesiac.png":"043b","./angel.png":"bfe2","./apprentice.png":"4bea","./artist.png":"2cd0","./assassin.png":"9187","./balloonist.png":"65db","./barber.png":"fcc6","./barista.png":"027a","./baron.png":"24d3","./beggar.png":"cfcc","./bishop.png":"8030","./bonecollector.png":"23b1","./bountyhunter.png":"899d","./buddhist.png":"1d01","./bureaucrat.png":"25f6","./butcher.png":"37dd","./butler.png":"64fe","./cannibal.png":"5bd9","./cerenovus.png":"0436","./chambermaid.png":"125e","./chef.png":"1e83","./clockmaker.png":"f93f","./courtier.png":"ee02","./cultleader.png":"398f","./custom.png":"fd83","./deviant.png":"3b65","./devilsadvocate.png":"cd8b","./djinn.png":"e222","./doomsayer.png":"659f","./dreamer.png":"71b8","./drunk.png":"d97d","./duchess.png":"5c56","./empath.png":"bb7a","./evil.png":"c24f","./eviltwin.png":"e014","./exorcist.png":"5072","./fanggu.png":"6ac0","./fibbin.png":"6eb1","./fiddler.png":"64be","./fisherman.png":"c5db","./flowergirl.png":"66ae","./fool.png":"4720","./fortuneteller.png":"43e8","./gambler.png":"dce6","./general.png":"ac9c","./goblin.png":"5c8e","./godfather.png":"99d0","./good.png":"667e","./goon.png":"55aa","./gossip.png":"cadc","./grandmother.png":"c9f5","./gunslinger.png":"ee92","./harlot.png":"559e","./hellslibrarian.png":"a367","./imp.png":"3e70","./innkeeper.png":"663c","./investigator.png":"b570","./judge.png":"f09b","./juggler.png":"65ab","./klutz.png":"adfc","./leviathan.png":"2b04","./librarian.png":"4d73","./lilmonsta.png":"c492","./lunatic.png":"0b61","./mastermind.png":"f834","./mathematician.png":"8888","./matron.png":"b1cb","./mayor.png":"b223","./minstrel.png":"4efd","./monk.png":"6741","./moonchild.png":"3f65","./mutant.png":"17ad","./nodashii.png":"68a4","./oracle.png":"0c12","./pacifist.png":"fff1","./philosopher.png":"3603","./pithag.png":"7f07","./plus.png":"160b","./po.png":"c73a","./poisoner.png":"f282","./politician.png":"07ab","./preacher.png":"2094","./professor.png":"b30c","./pukka.png":"a6a2","./ravenkeeper.png":"0c59","./recluse.png":"177d","./revolutionary.png":"aa2d","./sage.png":"30b6","./sailor.png":"223c","./saint.png":"6936","./savant.png":"d715","./scapegoat.png":"327a","./scarletwoman.png":"f322","./seamstress.png":"ac7c","./sentinel.png":"af68","./shabaloth.png":"0b29","./slayer.png":"d62b","./snakecharmer.png":"4021","./soldier.png":"4e76","./spiritofivory.png":"0d06","./spy.png":"ec1e","./stormcatcher.png":"a4c2","./sweetheart.png":"f1e5","./tealady.png":"ba9b","./thief.png":"9ce3","./tinker.png":"9f7e","./towncrier.png":"38a5","./toymaker.png":"39eb","./undertaker.png":"0e20","./vigormortis.png":"f4bd","./virgin.png":"eff4","./vortox.png":"3a43","./voudon.png":"a710","./washerwoman.png":"013f","./widow.png":"22c9","./witch.png":"f558","./x.png":"5cf2","./zombuul.png":"20ca"};function s(e){var t=a(e);return o(t)}function a(e){if(!o.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=a,e.exports=s,s.id="61b0"},"634a":function(e){e.exports=JSON.parse('[{"townsfolk":3,"outsider":0,"minion":1,"demon":1},{"townsfolk":3,"outsider":1,"minion":1,"demon":1},{"townsfolk":5,"outsider":0,"minion":1,"demon":1},{"townsfolk":5,"outsider":1,"minion":1,"demon":1},{"townsfolk":5,"outsider":2,"minion":1,"demon":1},{"townsfolk":7,"outsider":0,"minion":2,"demon":1},{"townsfolk":7,"outsider":1,"minion":2,"demon":1},{"townsfolk":7,"outsider":2,"minion":2,"demon":1},{"townsfolk":9,"outsider":0,"minion":3,"demon":1},{"townsfolk":9,"outsider":1,"minion":3,"demon":1},{"townsfolk":9,"outsider":2,"minion":3,"demon":1}]')},"64be":function(e,t,o){e.exports=o.p+"img/fiddler.8c3b1cc0.png"},"64fe":function(e,t,o){e.exports=o.p+"img/butler.3763fa3d.png"},"659f":function(e,t,o){e.exports=o.p+"img/doomsayer.34573e9a.png"},"65ab":function(e,t,o){e.exports=o.p+"img/juggler.7cc6d089.png"},"65db":function(e,t,o){e.exports=o.p+"img/balloonist.3d6e31f8.png"},6614:function(e,t,o){},"663c":function(e,t,o){e.exports=o.p+"img/innkeeper.8b0b87f1.png"},"667e":function(e,t,o){e.exports=o.p+"img/good.9b3436c8.png"},"66ae":function(e,t,o){e.exports=o.p+"img/flowergirl.4ee69cb5.png"},6741:function(e,t,o){e.exports=o.p+"img/monk.a6f2667a.png"},"68a4":function(e,t,o){e.exports=o.p+"img/nodashii.5c943357.png"},6936:function(e,t,o){e.exports=o.p+"img/saint.f81db252.png"},"6ac0":function(e,t,o){e.exports=o.p+"img/fanggu.cb4e346c.png"},"6b1e":function(e,t,o){},"6eb1":function(e,t,o){e.exports=o.p+"img/fibbin.2c83b0c2.png"},"71b8":function(e,t,o){e.exports=o.p+"img/dreamer.ab7f2328.png"},"749e":function(e,t,o){"use strict";var i=o("f8aa"),s=o.n(i);s.a},"74c9":function(e,t,o){"use strict";var i=o("9fd8"),s=o.n(i);s.a},"7b07":function(e,t,o){},"7d63":function(e,t,o){},"7f07":function(e,t,o){e.exports=o.p+"img/pithag.adc1ce12.png"},8030:function(e,t,o){e.exports=o.p+"img/bishop.dec14fdc.png"},8781:function(e,t,o){"use strict";var i=o("6b1e"),s=o.n(i);s.a},"887b":function(e,t,o){e.exports=o.p+"img/acrobat.b8ef8f5b.png"},8888:function(e,t,o){e.exports=o.p+"img/mathematician.31142ad1.png"},"899d":function(e,t,o){e.exports=o.p+"img/bountyhunter.cc6eb160.png"},"8c2b":function(e,t,o){},"8fde":function(e,t,o){"use strict";var i=o("00a0"),s=o.n(i);s.a},9187:function(e,t,o){e.exports=o.p+"img/assassin.db54a5ff.png"},9224:function(e){e.exports=JSON.parse('{"a":"1.9.1"}')},"93b5":function(e,t,o){},"95b7":function(e,t,o){},"99d0":function(e,t,o){e.exports=o.p+"img/godfather.2febcd81.png"},"9c0c":function(e,t,o){},"9ce3":function(e,t,o){e.exports=o.p+"img/thief.60ce8845.png"},"9f7e":function(e,t,o){e.exports=o.p+"img/tinker.669b5612.png"},"9fd8":function(e,t,o){},a367:function(e,t,o){e.exports=o.p+"img/hellslibrarian.ed49edab.png"},a4c2:function(e,t,o){e.exports=o.p+"img/stormcatcher.fb0bf48e.png"},a6a2:function(e,t,o){e.exports=o.p+"img/pukka.cbbc2d26.png"},a710:function(e,t,o){e.exports=o.p+"img/voudon.2b1f0492.png"},aa2d:function(e,t,o){e.exports=o.p+"img/revolutionary.ae2abbef.png"},ac7c:function(e,t,o){e.exports=o.p+"img/seamstress.05f0eb74.png"},ac9c:function(e,t,o){e.exports=o.p+"img/general.1d8bb5aa.png"},adfc:function(e,t,o){e.exports=o.p+"img/klutz.c7e784cd.png"},af68:function(e,t,o){e.exports=o.p+"img/sentinel.1fecd38b.png"},b1cb:function(e,t,o){e.exports=o.p+"img/matron.ffb17746.png"},b1d9:function(e){e.exports=JSON.parse('[{"id":"washerwoman","name":"Lavadeira","edition":"tb","team":"townsfolk","firstNight":19,"firstNightReminder":":eye: Show the character token of a Townsfolk in play. Point to two players, one of which is that character. :eye-slash:","otherNight":0,"otherNightReminder":"","reminders":["Cidad√£o","Falso"],"setup":false,"ability":"Voc√™ come√ßa sabendo que 1 dentre 2 jogadores √© um cidad√£o espec√≠fico."},{"id":"librarian","name":"Bibliotec√°ria","edition":"tb","team":"townsfolk","firstNight":20,"firstNightReminder":":eye: Show the character token of a Outsider in play. Point to two players, one of which is that character. :eye-slash:","otherNight":0,"otherNightReminder":"","reminders":["Forasteiro","Falso"],"setup":false,"ability":"Voc√™ come√ßa sabendo que 1 dentre 2 jogadores √© um Forasteiro espec√≠fico. (ou que n√£o h√° forasteriros em jogo)"},{"id":"investigator","name":"Investigador","edition":"tb","team":"townsfolk","firstNight":21,"firstNightReminder":":eye: Show the character token of a Minion in play. Point to two players, one of which is that character. :eye-slash:","otherNight":0,"otherNightReminder":"","reminders":["Lacaio","Falso"],"setup":false,"ability":"Voc√™ come√ßa sabendo que 1 dentre 2 jogadores √© um Lacaio espec√≠fico."},{"id":"chef","name":"Chefe de Cozinha","edition":"tb","team":"townsfolk","firstNight":22,"firstNightReminder":":eye: Show the finger signal (0, 1, 2, ‚Ä¶) for the number of pairs of neighbouring evil players. :eye-slash:","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Voc√™ come√ßa sabendo quantos pares de vizinhos h√° de jogadores do mal."},{"id":"empath","name":"M√©dium","edition":"tb","team":"townsfolk","firstNight":23,"firstNightReminder":":eye: Show the finger signal (0, 1, 2) for the number of evil alive neighbours of the Empath. :eye-slash:","otherNight":38,"otherNightReminder":":eye: Show the finger signal (0, 1, 2) for the number of evil neighbours. :eye-slash:","reminders":[],"setup":false,"ability":"Toda Noite, voc√™ descobre quantos jogadores s√£o do mal, dentre os seus 2 vizinhos vivos mais pr√≥ximos."},{"id":"fortuneteller","name":"Vidente","edition":"tb","team":"townsfolk","firstNight":24,"firstNightReminder":":eye: The Fortune Teller points to two players. Give the head signal (nod yes, shake no) for whether one of those players is the Demon. :eye-slash:","otherNight":39,"otherNightReminder":":eye: The Fortune Teller points to two players. Show the head signal (nod ‚Äúyes‚Äù, shake ‚Äúno‚Äù) for whether one of those players is the Demon. :eye-slash:","reminders":["Falso"],"setup":false,"ability":"Toda Noite, escolha 2 jodares: Voc√™ descobre se o Dem√¥nio √© um deles. No entanto, existe um jogador do bem que √© sempre detectado incorretamente."},{"id":"undertaker","name":"Coveiro","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":40,"otherNightReminder":":question-circle: If a player was executed today: :eye: Show that player‚Äôs character token. :eye-slash:","reminders":["Executado"],"setup":false,"ability":"Toda Noite*, voc√™ descobre qual personagem foi executado durante o Dia."},{"id":"monk","name":"Cl√©rigo","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":10,"otherNightReminder":"The previously protected player is no longer protected. :plus-circle: :eye: The Monk points to a player not themself. :eye-slash: Mark that player ‚ÄúProtected‚Äù. :plus-circle:","reminders":["Protegido"],"setup":false,"ability":"Toda Noite*, escolha um jogador(exceto voc√™): ele estar√° imune ao Dem√¥nio esta Noite."},{"id":"ravenkeeper","name":"Mestre dos Corvos","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":37,"otherNightReminder":":question-circle: If the Ravenkeeper died tonight: :eye: The Ravenkeeper points to a player. Show that player‚Äôs character token. :eye-slash:","reminders":[],"setup":false,"ability":"Se voc√™ morrer durante a Noite, acordar√° para escolher um jogador: Voc√™ descobre o personagem dele."},{"id":"mayor","name":"Prefeito","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se houver apenas 3 jogadores vivos e n√£o houver execu√ß√£o, seu time vence. Durante a Noite, sua morte pode ser substitu√≠da pela morte de outro jogador."},{"id":"slayer","name":"Atirador","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"ability":"Apenas uma vez no jogo, durante a fase do Dia, voc√™ pode escolher publicamente um jogador: se ele for o Dem√¥nio, morrer√°."},{"id":"soldier","name":"Soldado","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Voc√™ √© imune ao Dem√¥nio."},{"id":"virgin","name":"Virgem","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"ability":"Apenas na primeira vez que voc√™ for nomeado, se o nomeador for um Cidad√£o, ele √© executado imediatamente. (A Manh√£ √© encerrada, como ocorre com qualquer execu√ß√£o)"},{"id":"butler","name":"Mordomo","edition":"tb","team":"outsider","firstNight":25,"firstNightReminder":":eye: The Butler points to a player. :eye-slash: Mark that player as ‚ÄúMaster‚Äù. :plus-circle:","otherNight":50,"otherNightReminder":":eye: The Butler points to a player. :eye-slash: Mark that player as ‚ÄúMaster‚Äù. :plus-circle:","reminders":["Mestre"],"setup":false,"ability":"Toda Noite, escolha um jogador para ser seu Mestre: Durante uma vota√ß√£o, voc√™ n√£o poder√° levantar a m√£o se o seu Mestre n√£o levantar. Se o Mestre abaixar a m√£o, voc√™ tamb√©m deve abaixar."},{"id":"drunk","name":"B√™bado","edition":"tb","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"remindersGlobal":["B√™bado"],"setup":true,"ability":"Voc√™ n√£o sabe que √© o B√™bado. Em vez disso, voc√™ acredita ser um Cidad√£o mas sua habilidade √© apenas uma ilus√£o."},{"id":"recluse","name":"Recluso","edition":"tb","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Voc√™ pode ser lido por habilidades como se fosse do mal, Lacaio ou Dem√¥nio. (MESMO ESTANDO MORTO)"},{"id":"saint","name":"Santo","edition":"tb","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se voc√™ morrer por execu√ß√£o, seu time perde."},{"id":"baron","name":"Bar√£o","edition":"tb","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":true,"ability":"H√° 2 Forasteiros adicionais. [+2 Forasteiros]"},{"id":"poisoner","name":"Envenenador","edition":"tb","team":"minion","firstNight":9,"firstNightReminder":":eye: The Poisoner points to a player. :eye-slash: That player is poisoned. :plus-circle:","otherNight":6,"otherNightReminder":"The previously poisoned player is no longer poisoned. :plus-circle: :eye: The Poisoner points to a player. :eye-slash: That player is poisoned. :plus-circle:","reminders":["Envenenado"],"setup":false,"ability":"Toda Noite, escolha um jogador: ele est√° envenenado at√© o pr√≥ximo anoitecer."},{"id":"spy","name":"Espi√£o","edition":"tb","team":"minion","firstNight":33,"firstNightReminder":":eye: Show the Grimoire to the Spy for as long as they need. :eye-slash:","otherNight":51,"otherNightReminder":":eye: Show the Grimoire to the Spy for as long as they need. :eye-slash:","reminders":[],"setup":false,"ability":"Toda Noite, voc√™ v√™ o Grim√≥rio (todas as informa√ß√µes ocultas). Voc√™ pode ser lido por habilidades como se fosse do Bem, Cidad√£o ou Forasteiro (MESMO ESTANDO MORTO)."},{"id":"scarletwoman","name":"Prom√≠scua","edition":"tb","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":15,"otherNightReminder":":question-circle: If the Scarlet Woman became the Demon today: :eye: Show the ‚ÄúYou are‚Äù card, then the demon token. :eye-slash:","reminders":["Dem√¥nio"],"setup":false,"ability":"Se ainda houver 5 ou mais jogadores n√£o-viajantes vivos e o Dem√¥nio morrer, seu personagem √© substitu√≠do pelo do Dem√¥nio."},{"id":"imp","name":"Capeta","edition":"tb","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":18,"otherNightReminder":":eye: The Imp points to a player. :eye-slash: That player dies. :plus-circle: If the Imp chose themself: ‚Ä¢ Replace the character of 1 alive minion with a spare Imp token. :plus-circle: ‚Ä¢ :eye: Wake the new Imp. Show the ‚ÄúYou are‚Äù card, then the Imp token. :eye-slash:","reminders":["Morto"],"setup":false,"ability":"Toda Noite*, escolha um jogador: ele morre imediatamente. Se voc√™ se matar desta forma, um Lacaio vivo substitu√≠ra o personagem dele pelo seu."},{"id":"grandmother","edition":"bmr","firstNight":26,"firstNightReminder":"Show the marked character token. Point to the marked player.","otherNight":31,"otherNightReminder":"If the Grandmother‚Äôs grandchild was killed by the Demon tonight: ‚Ä¢ The Grandmother dies.","reminders":["Neto"],"setup":false,"name":"Vov√≥","team":"townsfolk","ability":"Na primeira Noite, voc√™ descobre o personagem de um jogador. Se o Dem√¥nio o matar, voc√™ tamb√©m morre."},{"id":"sailor","edition":"bmr","firstNight":4,"firstNightReminder":"The Sailor points to a living player. Either the Sailor, or the chosen player, is drunk.","otherNight":2,"otherNightReminder":"The previously drunk player is no longer drunk. The Sailor points to a living player. Either the Sailor, or the chosen player, is drunk.","reminders":["B√™bado"],"setup":false,"name":"Marinheiro","team":"townsfolk","ability":"Toda Noite, escolha um jogador: ele ou voc√™ fica b√™bado at√© o pr√≥ximo anoitecer. Voc√™ nunca morre."},{"id":"chambermaid","edition":"bmr","firstNight":35,"firstNightReminder":"The Chambermaid points to two players. Show the number signal (0, 1, 2, ‚Ä¶) for how many of those players wake tonight for their ability.","otherNight":53,"otherNightReminder":"The Chambermaid points to two players. Show the number signal (0, 1, 2) for how many of those players wake tonight for their ability.","reminders":[],"setup":false,"name":"Camareira","team":"townsfolk","ability":"Toda Noite, escolha 2 jogadores vivos(exceto voc√™): Voc√™ descobre quantos deles acordaram esta Noite por conta de suas habilidades."},{"id":"exorcist","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":17,"otherNightReminder":"The Exorcist points to a player, different from the previous night. If that player is the Demon: ‚Ä¢ Wake the Demon. Show the Exorcist token. Point to the Exorcist. ‚Ä¢ The Demon does not act tonight.","reminders":["Escolhido"],"setup":false,"name":"Exorcista","team":"townsfolk","ability":"Toda Noite*, escolha um jogador(exceto o mesmo da Noite anterior), se for o Dem√¥nio, ele n√£o age esta Noite e descobre quem voc√™ √©."},{"id":"innkeeper","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":3,"otherNightReminder":"The previously protected and drunk players lose those markers. The Innkeeper points to two players. Those players are protected. One is drunk.","reminders":["Protegido","B√™bado"],"setup":false,"name":"Estalajadeiro","team":"townsfolk","ability":"Toda Noite*, escolha 2 jogadores: eles n√£o morrem esta Noite; um deles fica b√™bado at√© o pr√≥ximo anoitecer."},{"id":"gambler","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":8,"otherNightReminder":"The Gambler points to a player, and a character on their sheet. If incorrect, the Gambler dies.","reminders":["Morto"],"setup":false,"name":"Apostador","team":"townsfolk","ability":"Toda Noite*, escolha um jogador e tente adivinhar seu personagem. Se errar, voc√™ morre."},{"id":"gossip","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":30,"otherNightReminder":"If the Gossip‚Äôs public statement was true: ‚Ä¢ Choose a player not protected from dying tonight. That player dies.","reminders":["Morto"],"setup":false,"name":"Fofoqueira","team":"townsfolk","ability":"Todo dia, voc√™ pode fazer UMA afirma√ß√£o publicamente: Se for verdade, algu√©m morrer√° durante a Noite."},{"id":"courtier","edition":"bmr","firstNight":11,"firstNightReminder":"The Courier either shows a ‚Äúno‚Äù head signal, or points to a character on the sheet. If the Courtier used their ability : If that character is in play, that player is drunk.","otherNight":7,"otherNightReminder":"Reduce the remaining number of days the marked player is poisoned. If the Courtier has not yet used their ability: ‚Ä¢ The Courier either shows a ‚Äúno‚Äù head signal, or points to a character on the sheet. ‚Ä¢ If the Courtier used their ability : If that character is in play, that player is drunk.","reminders":["B√™bado 1","B√™bado 2","B√™bado 3","Usado"],"setup":false,"name":"Cortes√£o","team":"townsfolk","ability":"Uma vez por jogo, durante a Noite, voc√™ pode escolher um personagem: se estiver em jogo, ele fica b√™bado por 3 Noites e 3 Dias."},{"id":"professor","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":35,"otherNightReminder":"If the Professor has not used their ability: ‚Ä¢ The Professor either shows the ‚Äúno‚Äù head signal, or points to a player. ‚Ä¢ If that player is a Townsfolk, they are now alive.","reminders":["Vivo","Usado"],"setup":false,"name":"Cientista","team":"townsfolk","ability":"Uma vez por jogo, durante a Noite*, voc√™ pode escolher um jogador morto: se for um Cidad√£o, ressuscita imediatamente."},{"id":"minstrel","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":1,"otherNightReminder":"Remove the ‚ÄúEveryone drunk‚Äù marker. If a Minion died today: All players but the Minstrel are drunk. Place the ‚ÄúEveryone drunk‚Äù marker.","reminders":["Todo mundo B√™bado"],"setup":false,"name":"Bardo","team":"townsfolk","ability":"Se um Lacaio morrer durante o Dia, todos os outros jogadores ficam b√™bados nesta Noite at√© o pr√≥ximo anoitecer."},{"id":"tealady","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Protegido"],"setup":false,"name":"Mo√ßa do Ch√°","team":"townsfolk","ability":"Se ambos os seus vizinhos vivos forem do Bem, n√£o poder√£o morrer."},{"id":"pacifist","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Pacifista","team":"townsfolk","ability":"Jogadores do bem podem n√£o morrer quando executados."},{"id":"fool","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"name":"Bobo","team":"townsfolk","ability":"A sua primeira morte √© anulada."},{"id":"tinker","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":29,"otherNightReminder":"The Tinker might die.","reminders":["Morto"],"setup":false,"name":"Mec√¢nico","team":"outsider","ability":"Voc√™ pode morrer a qualquer momento"},{"id":"moonchild","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":36,"otherNightReminder":"If the Moonchild used their ability to target a player today: ‚Ä¢ If that player is good, they die.","reminders":["Morto"],"setup":false,"name":"Filha da Noite","team":"outsider","ability":"Quando voc√™ for avisado que morreu, escolha um jogador(em segredo ou publicamente): se ele for do bem, morrer√° esta Noite."},{"id":"goon","edition":"bmr","firstNight":100,"firstNightReminder":"If a player used their character ability to choose the Goon: ‚Ä¢ The Goon becomes that player‚Äôs alignment. ‚Ä¢ Show the ‚ÄúYou are‚Äù card. Show the hand signal (thumb-up ‚Äúgood‚Äù, thumb-down ‚Äúevil‚Äù) for the Goon‚Äôs current alignment.","otherNight":100,"otherNightReminder":"If a player used their character ability to choose the Goon: ‚Ä¢ The Goon becomes that player‚Äôs alignment. ‚Ä¢ Show the ‚ÄúYou are‚Äù card, then the hand signal (thumb-up ‚Äúgood‚Äù, thumb-down ‚Äúevil‚Äù) for the Goon‚Äôs current alignment.","reminders":["B√™bado"],"setup":false,"name":"Capanga","team":"outsider","ability":"Toda Noite, o primeiro jogador a escolher voc√™ com uma hawbilidade, fica b√™bado at√© o pr√≥ximo anoitecer. Voc√™ se junta ao time dele (bem/mal)."},{"id":"lunatic","edition":"bmr","firstNight":2,"firstNightReminder":"If 7 or more players: Show the Lunatic a number of arbitrary ‚ÄúMinion‚Äú, players equal to the number of Minions in play. Show 3 character tokens of arbitrary Good characters. If the token received by the Lunatic is a Demon that would wake tonight: ‚Ä¢ Allow the Lunatic to do the Demon actions. Place their ‚Äúattack‚Äù markers. Wake the Demon. Show the Demon‚Äôs real character token. Show them the Lunatic player. ‚Ä¢ If the Lunatic attacked players: Show the real demon each marked player. Remove any Lunatic ‚Äúattack‚Äù markers.","otherNight":16,"otherNightReminder":"Allow the Lunatic to do the actions of the Demon. Place their ‚Äúattack‚Äù markers. If the Lunatic selected players: Wake the Demon. Show the ‚Äúattack‚Äù marker, then point to each marked player. Remove any Lunatic ‚Äúattack‚Äù markers.","reminders":["Ataque 1","Ataque 2","Ataque 3","Falso"],"setup":false,"name":"Lunatico","team":"outsider","ability":"Voc√™ acredita ser o Dem√¥nio mas sua habilidade n√£o funciona. O Dem√¥nio sabe quem voc√™ √© e quem voc√™ ataca."},{"id":"godfather","edition":"bmr","firstNight":13,"firstNightReminder":"Show each of the Outsider tokens in play.","otherNight":29,"otherNightReminder":"If an Outsider died today: ‚Ä¢ The Godfather points to a player. That player dies.","reminders":["Morreu Hoje","Morto"],"setup":true,"name":"Chefe da M√°fia","team":"minion","ability":"Voc√™ sabe quais Forasteiros est√£o em jogo. Se um deles morrer durante o Dia, voc√™ escolhe um jogador para matar esta Noite. [-1 or +1 Forasteiro]"},{"id":"devilsadvocate","edition":"bmr","firstNight":14,"firstNightReminder":"The Devil‚Äôs Advocate points to a living player. That player survives execution tomorrow.","otherNight":11,"otherNightReminder":"The Devil‚Äôs Advocate points to a living player, different from the previous night. That player survives execution tomorrow.","reminders":["Sobreviveu a execu√ß√£o"],"setup":false,"name":"Advogado do Diabo","team":"minion","ability":"Toda Noite, escolha um jogador(exceto o da Noite anterior): durante o Dia, ele n√£o morrer√° se for executado."},{"id":"assassin","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":28,"otherNightReminder":"If the Assassin has not yet used their ability: ‚Ä¢ The Assassin either shows the ‚Äúno‚Äù head signal, or points to a player. That player dies.","reminders":["Morto","Usado"],"setup":false,"name":"Assassino","team":"minion","ability":"Uma vez por jogo, durante a Noite*, escolha um jogador: ele morre mesmo que n√£o possa."},{"id":"mastermind","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Mentor","team":"minion","ability":"Se o Dem√¥nio morrer por execu√ß√£o, o jogo continua. No dia seguinte, se um jogador for executado o time dele perde."},{"id":"po","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":22,"otherNightReminder":"If the Po chose no-one the previous night : The Po points to three players . Otherwise: The Po either shows the ‚Äúno‚Äù head signal , or points to a player . The marked players (if any) die.","reminders":["Morte 1","Morte 2","Morte 3","Ataque x3"],"setup":false,"name":"Po","team":"demon","ability":"Toda Noite*, se quiser, escolha um jogador: ele morre. Se, por qualquer motivo, voc√™n√£o escolheu na Noite passada, escolha 3 jogadores: eles morrem na ordem que voc√™ escolheu."},{"id":"zombuul","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":19,"otherNightReminder":"If no-one died during the day: ‚Ä¢ The Zombuul points to a player. That player dies.","reminders":["Sem morte hoje","Morto"],"setup":false,"name":"Zombuul","team":"demon","ability":"Toda Noite*, se ningu√©m morreu durante o Dia, escolha um jogador: ele morre. Na primeira vez que voc√™ morre, permance vivo em segredo."},{"id":"pukka","edition":"bmr","firstNight":18,"firstNightReminder":"The Pukka points to a player. That player is poisoned.","otherNight":20,"otherNightReminder":"The poisoned player dies. The Pukka points to a player. That player is poisoned.","reminders":["Envenenado","Morto"],"setup":false,"name":"Pukka","team":"demon","ability":"Toda Noite, escolha um jogador: ele √© envenenado at√© a pr√≥xima Noite, ent√£o morre."},{"id":"shabaloth","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":21,"otherNightReminder":"One player that the Shabaloth chose the previous night might come alive. The Shabaloth points to two players. Those players die.","reminders":["Morto 1","Morto 2","Vivo"],"setup":false,"name":"Shabaloth","team":"demon","ability":"Toda Noite*, escolha dois jogadores: eles morrem na ordem que voc√™ escolheu. Um jogador escolhido na Noite anterior pode ser ressuscitado."},{"id":"clockmaker","edition":"snv","firstNight":27,"firstNightReminder":"Show the hand signal for the number (1, 2, 3, etc.) of places from Demon to closest Minion.","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Relojoeiro","team":"townsfolk","ability":"Na priemira Noite, voc√™ descobre a dist√¢ncia entre o Dem√¥nio e seu Lacaio mais pr√≥ximo."},{"id":"dreamer","edition":"snv","firstNight":28,"firstNightReminder":"The Dreamer points to a player. Show two character tokens, one of which is that player‚Äôs character, the other of which is of opposite alignment to that character.","otherNight":41,"otherNightReminder":"The Dreamer points to a player. Show 1 good and 1 evil character token; one of these is correct.","reminders":[],"setup":false,"name":"Sonhador","team":"townsfolk","ability":"Toda Noite, escolha um jogador(exceto voc√™): voc√™ descobre que ele √© um dentre dois personagens de times opostos. (bem/mal)"},{"id":"snakecharmer","edition":"snv","firstNight":12,"firstNightReminder":"The Snake Charmer points to a player. If that player is the Demon: ‚Ä¢ Swap the Snake Charmer and Demon character tokens. ‚Ä¢ Wake the new Demon. Show the ‚ÄúYou are‚Äù card, then the thumb-down ‚Äúevil‚Äù sign. Show the ‚ÄúYou are‚Äù card, then the Demon token. ‚Ä¢ The new Snake Charmer is poisoned . Wake the new Snake Charmer. Show the ‚ÄúYou are‚Äù card, then the thumb-up ‚Äúgood‚Äù sign. Show the ‚ÄúYou are‚Äù card, then the Snake Charmer token.","otherNight":9,"otherNightReminder":"The Snake Charmer points to a player. If that player is the Demon: ‚Ä¢ Swap the Snake Charmer and Demon character tokens. Wake the new Demon. Show the ‚ÄúYou are‚Äù card, then the thumb-down ‚Äúevil‚Äù sign. Show the ‚ÄúYou are‚Äù card, then the Demon token. ‚Ä¢ The new Snake Charmer is poisoned . Wake the new Snake Charmer. Show the ‚ÄúYou are‚Äù card, then the thumb-up ‚Äúgood‚Äù sign. Show the ‚ÄúYou are‚Äù card, then the Snake Charmer token.","reminders":["Envenenado"],"setup":false,"name":"Encantador de Serpentes","team":"townsfolk","ability":"Toda Noite, escolha um jogador vivo: se escolher um Dem√¥nio, ele troca de personagem e time com voc√™, depois fica envenenado."},{"id":"mathematician","edition":"snv","firstNight":36,"firstNightReminder":"Show the hand signal for the number (0, 1, 2, etc.) of ‚ÄúAbnormal Effect‚Äù markers. Remove markers","otherNight":54,"otherNightReminder":"Show the hand signal for the number (0, 1, 2, etc.) of ‚ÄúAbnormal Effect‚Äù markers. Remove markers.","reminders":["Efeito Anormal"],"setup":false,"name":"Matem√°tico","team":"townsfolk","ability":"Toda Noite, voc√™ descobre quantas habilidades n√£o tiveram o efeito esperado devido a habilidades de outros personagens."},{"id":"flowergirl","edition":"snv","firstNight":0,"firstNightReminder":"Place the ‚ÄúDemon did not vote‚Äù marker.","otherNight":42,"otherNightReminder":"Show the head signal (nod ‚Äúyes‚Äù, shake ‚Äúno‚Äù) for whether the Demon voted today. Place the ‚ÄúDemon did not vote‚Äù marker (remove ‚ÄúDemon voted‚Äù, if any).","reminders":["Dem√¥nio votou","Dem√¥nio n√£o votou"],"setup":false,"name":"Florista","team":"townsfolk","ability":"Toda Noite*, voc√™ descobre se o Dem√¥nio votou durante o Dia."},{"id":"towncrier","edition":"snv","firstNight":0,"firstNightReminder":"Place the ‚ÄúMinions did not nominate‚Äù marker.","otherNight":43,"otherNightReminder":"Show the head signal (nod ‚Äúyes‚Äù, shake ‚Äúno‚Äù) for whether any Minion nominated today. Place the ‚ÄúMinions did not nominate‚Äù marker (remove ‚ÄúMinion nominated‚Äù, if any).","reminders":["Lacaio n√£o nomeou","Lacaio Nomeou"],"setup":false,"name":"Mensageiro","team":"townsfolk","ability":"Toda Noite*, voc√™ descobre se algum Lacaio nomeou hoje."},{"id":"oracle","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":44,"otherNightReminder":"Show the hand signal for the number (0, 1, 2, etc.) of dead evil players.","reminders":[],"setup":false,"name":"Oraculo","team":"townsfolk","ability":"Toda Noite*, voc√™ descobre quantos jogadores do Mal est√£o mortos."},{"id":"savant","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Erudito","team":"townsfolk","ability":"Todo Dia, voc√™ pode visitar o Storyteller para ouvir duas informa√ß√µes: uma verdadeira e uma falsa."},{"id":"seamstress","edition":"snv","firstNight":29,"firstNightReminder":"The Seamstress either shows a ‚Äúno‚Äù head signal, or points to two other players. If the Seamstress chose two players , nod ‚Äúyes‚Äù or shake ‚Äúno‚Äù for whether they are of same alignment.","otherNight":45,"otherNightReminder":"If the Seamstress has not yet used their ability: ‚Ä¢ The Seamstress either shows a ‚Äúno‚Äù head signal, or points to two other players. ‚Ä¢ If the Seamstress chose players , nod ‚Äúyes‚Äù or shake ‚Äúno‚Äù for whether they are of same alignment.","reminders":["Usado"],"setup":false,"name":"Costureira","team":"townsfolk","ability":"Uma vez por jogo, durante a Noite, voc√™ pode escolher 2 jogadores(exceto voc√™): voc√™ descobre se eles s√£o do mesmo time."},{"id":"philosopher","edition":"snv","firstNight":1,"firstNightReminder":"The Philosopher either shows a ‚Äúno‚Äù head signal, or points to a good character on their sheet. If they chose a character: Swap the out-of-play character token with the Philosopher token. Or, if the character is in play, that player is drunk and the Philosopher is now that character .","otherNight":1,"otherNightReminder":"If the Philosopher has not yet used their ability: ‚Ä¢ The Philosopher either shows a ‚Äúno‚Äù head signal, or points to a good character on their sheet. ‚Ä¢ If they chose a character: Swap the out-of-play character token with the Philosopher token. Or, if the character is in play, that player is drunk and the Philosopher is now that character .","reminders":["Usado","B√™bado"],"setup":false,"name":"Fil√≥sofo","team":"townsfolk","ability":"Uma vez por jogo, durante a Noite, voc√™ pode escolher um personagem do bem: voc√™ se torna ele. Se alguem j√° √© for esse personagem, fica b√™bado at√© voc√™ morrer."},{"id":"artist","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"name":"Artista","team":"townsfolk","ability":"Uma vez por jogo, durante o DIa, voc√™ pode fazer uma pergunta de sim ou n√£o para o Storyteller. (Em segredo)"},{"id":"juggler","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":46,"otherNightReminder":"If today was the Juggler‚Äôs first day: ‚Ä¢ Show the hand signal for the number (0, 1, 2, etc.) of ‚ÄúCorrect‚Äù markers. Remove markers.","reminders":["Correto"],"setup":false,"name":"Malabarista","team":"townsfolk","ability":"No primeiro dia, voc√™ pode tentar advinhar publicamente os personagens de at√© 5 jogadores. Durante a Noite, voc√™ descobre quantos voc√™ acertou."},{"id":"sage","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":34,"otherNightReminder":"If the Sage was killed by a Demon: ‚Ä¢ Point to two players, one of which is that Demon.","reminders":[],"setup":false,"name":"S√°bio","team":"townsfolk","ability":"Se voc√™ for morto pelo Dem√¥nio, voc√™ descobre que ele √© 1 dentre 2 jogadores."},{"id":"mutant","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Mutante","team":"outsider","ability":"Se voc√™ insinuar que √© um Forasteiro, voc√™ pode ser executado imediatamente."},{"id":"sweetheart","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":33,"otherNightReminder":"","reminders":["B√™bado"],"setup":false,"name":"Queridinha","team":"outsider","ability":"Se voc√™ morrer, um jogador fica b√™bado."},{"id":"barber","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":32,"otherNightReminder":"If the Barber died today : ‚Ä¢ Wake the Demon. Show the ‚ÄúThis character selected you‚Äù card, then Barber token. ‚Ä¢ The Demon either shows a ‚Äúno‚Äù head signal, or points to 2 non-Demon players. If they chose players: ‚ó¶ Swap the character tokens. Wake each player. Show ‚ÄúYou are‚Äù, then their character token.","reminders":["Troca"],"setup":false,"name":"Barbeiro","team":"outsider","ability":"Se voc√™ morrer, esta Noite o Dem√¥nio pode escolher dois jogadres: eles trocam de personagens entre si."},{"id":"klutz","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Desastrado","team":"outsider","ability":"Quanto sua morte for decladara, escolha publicamente um jogador do Bem, ou seu time perde."},{"id":"eviltwin","edition":"snv","firstNight":15,"firstNightReminder":"Wake the Evil Twin and their twin. Confirm that they have acknowledged each other. Point to the Evil Twin. Show their Evil Twin token to the twin player. Point to the twin. Show their character token to the Evil Twin player.","otherNight":0,"otherNightReminder":"","reminders":["G√™mea"],"setup":false,"name":"G√™mea M√°","team":"minion","ability":"Voc√™ e um opoenente sabem o personagem um do outro. Se o jogador do bem for executado, o Mal vence. O bem n√£o pode vencer enquanto ambos viverem."},{"id":"witch","edition":"snv","firstNight":16,"firstNightReminder":"The Witch points to a player. That player is cursed for the next day.","otherNight":12,"otherNightReminder":"The Witch points to a player. That player is cursed for the next day.","reminders":["Amaldi√ßoado"],"setup":false,"name":"Bruxa","team":"minion","ability":"Toda Noite, escolha um jogador: se ele nomear durante o pr√≥ximo Dia, morre. Se apenas 3 jogadores estiverem vivos, voc√™ perde esta habilidade."},{"id":"cerenovus","edition":"snv","firstNight":17,"firstNightReminder":"The Cerenovus points to a player, then to a character on their sheet. That player should ‚Äúbe mad about‚Äù being that character. Wake that player. Show the ‚ÄúThis character selected you‚Äù card, then the Cerenovus token. Show the ‚Äúmad about being‚Äù marker, then that character token.","otherNight":13,"otherNightReminder":"The Cerenovus points to a player, then to a character on their sheet. That player should ‚Äúbe mad about‚Äù being that character. . Wake that player. Show the ‚ÄúThis character selected you‚Äù card, then the Cerenovus token. Show the ‚Äúmad about being‚Äù marker, then that character token.","reminders":["Louco"],"setup":false,"name":"Cerenovus","team":"minion","ability":"Toda Noite, escolha um personagem do Bem e um Jogador: o jogador DEVE fingir que sempre foi este personagem durante o pr√≥ximo Dia. Do contr√°rio, pode ser executado imediatamente."},{"id":"pithag","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":14,"otherNightReminder":"","reminders":[],"setup":false,"name":"Velha do Fosso","team":"minion","ability":"Toda Noite*, escolha um jogador para se tornar um novo personagem (n√£o funciona se j√° estiver em jogo). Se o personagem escolhido for um Dem√înio, as mortes ser√£o arbitr√°rias esta Noite."},{"id":"fanggu","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":23,"otherNightReminder":"The Fang Gu points to a player. That player dies . Or, if that player was an Outsider: ‚Ä¢ The Fang Gu dies instead of the chosen player. The chosen player is now an evil Fang Gu. ‚Ä¢ Wake the new Fang Gu. Show the ‚ÄúYou are‚Äù card, then the Fang Gu token. Show the ‚ÄúYou are‚Äù card, then the thumb-down ‚Äúevil‚Äù hand sign.","reminders":["Morto"],"setup":true,"name":"Fang Gu","team":"demon","ability":"Toda Noite*, voc√™ escolhe um jogador: ele morre imediatamente. O primeiro Forasteiro escolhido torna-se um Fang Gu do Mal e voc√™ morre no lugar dele. [+1 Forasteiro]"},{"id":"vigormortis","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":26,"otherNightReminder":"The Vigormortis points to a player. That player dies. If a Minion, they keep their ability and one of their Townsfolk neighbours is poisoned .","reminders":["Morto","Envenenado","Habilidade Ativa"],"setup":true,"name":"Vigormortis","team":"demon","ability":"Toda Noite*, voc√™ escolhe um jogador: ele morre imediatamente. Lacaios que voc√™ mata mant√™m suas habilidades e envenenam um vizinho cidad√£o. [-1 Forasteiro]."},{"id":"nodashii","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":24,"otherNightReminder":"The No Dashii points to a player. That player dies.","reminders":["Morto","Envenenado"],"setup":false,"name":"No Dashii","team":"demon","ability":"Toda Noite*, voc√™ escolhe um jogador: ele morre imediatamente. Seus dois vizinhos Cidad√£os est√£o envenenados."},{"id":"vortox","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":25,"otherNightReminder":"The Vortox points to a player. That player dies.","reminders":["Morto"],"setup":false,"name":"Vortox","team":"demon","ability":"Toda Noite*, voc√™ esoclhe um jogador: ele morre imediatamente. Habilidades do Bem geram informa√ß√µes falsas. Todo Dia, se ningu√©m for executado, o Mal vence."},{"id":"scapegoat","edition":"tb","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Scapegoat","team":"traveler","ability":"If a player of your alignment is executed, you might be executed instead."},{"id":"gunslinger","edition":"tb","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Gunslinger","team":"traveler","ability":"Each day, after the 1st vote has been tallied, you may choose a player that voted: they die."},{"id":"beggar","edition":"tb","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Beggar","team":"traveler","ability":"You must use a vote token to vote. Dead players may choose to give you theirs. If so, you learn their alignment."},{"id":"bureaucrat","edition":"tb","firstNight":1,"firstNightReminder":"The Bureaucrat points to a player. Put the Bureaucrat\'s ‚ÄúVote x3‚Äù reminder by the chosen player\'s character token.","otherNight":1,"otherNightReminder":"The Bureaucrat points to a player. Put the Bureaucrat\'s ‚ÄúVote x3‚Äù reminder by the chosen player\'s character token.","reminders":["Voto x3"],"setup":false,"name":"Bureaucrat","team":"traveler","ability":"Each night, choose a player (not yourself): their vote counts as 3 votes tomorrow."},{"id":"thief","edition":"tb","firstNight":1,"firstNightReminder":"The Thief points to a player. Put the Thief\'s ‚ÄúNegative vote‚Äù reminder by the chosen player\'s character token.","otherNight":1,"otherNightReminder":"The Thief points to a player. Put the Thief\'s ‚ÄúNegative vote‚Äù reminder by the chosen player\'s character token.","reminders":["Voto Negativo"],"setup":false,"name":"Thief","team":"traveler","ability":"Each night, choose a player (not yourself): their vote counts negatively tomorrow."},{"id":"apprentice","edition":"bmr","firstNight":1,"firstNightReminder":"Show the Apprentice the \\"You are\\" info token, then a Townsfolk or Minion token. In the Grimoire, replace the Apprentice token with that character token, and put the Apprentice\'s \\"Apprentice ability\\" reminder by that character token.","otherNight":0,"otherNightReminder":"","reminders":["Habilidade de aprendiz"],"setup":false,"name":"Apprentice","team":"traveler","ability":"On your 1st night, you gain a Townsfolk ability (if good), or a Minion ability (if evil)."},{"id":"matron","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Matron","team":"traveler","ability":"Each day, you may choose up to 3 pairs of players to swap seats. Players may not leave their seats to talk in private."},{"id":"voudon","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Voudon","team":"traveler","ability":"Only you and the dead can vote. They don\'t need a vote token to do so. A 50% majority is not required."},{"id":"judge","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"name":"Judge","team":"traveler","ability":"Once per game, if another player nominated, you may choose to force the current execution to pass or fail."},{"id":"bishop","edition":"bmr","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Nomeado Bom","Nomeado Mal"],"setup":false,"name":"Bishop","team":"traveler","ability":"Only the Storyteller can nominate. At least 1 opposite player must be nominated each day."},{"id":"butcher","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Butcher","team":"traveler","ability":"Each day, after the 1st execution, you nominate again."},{"id":"bonecollector","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":1,"otherNightReminder":"The Bone Collector either shake their head no or point at any dead player. If they pointed at any dead player, put the Bone Collector\'s \\"Has Ability\\" reminder by the chosen player\'s character token. (They may need to be woken tonight to use it.)","reminders":["Usado","Habilidade Ativa"],"setup":false,"name":"Bone Collector","team":"traveler","ability":"Once per game, at night, choose a dead player: they regain their ability until dusk."},{"id":"harlot","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":1,"otherNightReminder":"The Harlot points at any player. Then, put the Harlot to sleep. Wake the chosen player, show them the \\"This character selected you\\" token, then the Harlot token. That player either nods their head yes or shakes their head no. If they nodded their head yes, wake the Harlot and show them the chosen player\'s character token. Then, you may decide that both players die.","reminders":["Morto"],"setup":false,"name":"Harlot","team":"traveler","ability":"Each night*, choose a living player: if they agree, you learn their character, but you both might die."},{"id":"barista","edition":"snv","firstNight":1,"firstNightReminder":"Each night, put the Barista\'s \\"Sober and Healthy\\" reminder or their \\"Acts Twice\\" reminder by any character token. Wake that character‚Äôs player and show them the ‚ÄúThis player selected you‚Äù info token, then the Barista token, then one finger (to show they are sober and healthy) or two fingers (to show they act twice).","otherNight":1,"otherNightReminder":"Each night, put the Barista\'s \\"Sober and Healthy\\" reminder or their \\"Acts Twice\\" reminder by any character token. Wake that character‚Äôs player and show them the ‚ÄúThis player selected you‚Äù info token, then the Barista token, then one finger (to show they are sober and healthy) or two fingers (to show they act twice).","reminders":["Atua duas vezes","S√≥brio e Saud√°vel"],"setup":false,"name":"Barista","team":"traveler","ability":"Each night, until dusk, 1) a player becomes sober, healthy and gets true info, or 2) their ability works twice. They learn which."},{"id":"deviant","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Deviant","team":"traveler","ability":"If you were funny today, you can not be exiled."},{"id":"balloonist","edition":"","firstNight":30,"firstNightReminder":"Choose a character type. Point to a player whose character is of that type. Place the Balloonist\'s \\"Seen\\" reminder next to that character.","otherNight":47,"otherNightReminder":"Choose a character type you have not chosen yet. Point to a player whose character is of that type, if there are any. Place the Balloonist\'s \\"Seen\\" reminder next to that character.","reminders":["Visto"],"setup":true,"name":"Balonista","team":"townsfolk","ability":"Toda noite, voc√™ descobre um jogador de cada tipo de personagem, at√© que n√£o haja mais tipos para descobrir. [+1 Forasteiro]"},{"id":"amnesiac","edition":"","firstNight":6,"firstNightReminder":"Decide the Amnesiac\'s entire ability. If the Amnesiac\'s ability causes them to wake tonight: Wake the Amnesiac and run their ability.","otherNight":4,"otherNightReminder":"If the Amnesiac\'s ability causes them to wake tonight: Wake the Amnesiac and run their ability.","reminders":[],"setup":false,"name":"Esquecido","team":"townsfolk","ability":"Voc√™ n√£o sabe qual √© a sua habilidade. Todo dia, visite o Storyteller para tentar adivinhar a sua habilidade: voc√™ descobre o qua√µ perto est√° da resposta."},{"id":"cannibal","edition":"","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Habilidade adquirida","Enveneado"],"setup":false,"name":"Canibal","team":"townsfolk","ability":"Voc√™ tem a habilidade do jogador executaod mais recente. Se ele for do mal, voc√™ est√° envenenado at√© um jogador do Bem ser executado."},{"id":"fisherman","edition":"","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"name":"Pescador","team":"townsfolk","ability":"Uma vez por jogo, durante o dia, visite o Storyteller para obter conselhos de como vencer."},{"id":"goblin","edition":"","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Clamado Hoje"],"setup":false,"name":"Goblin","team":"minion","ability":"Quando nomeado, voc√™ pode publicamente afirmar ser o Goblin: Se for executado naquele dia, seu time vence."},{"id":"widow","edition":"","firstNight":10,"firstNightReminder":"Show the Grimoire to the Widow for as long as they need. The Widow points to a player. That player is poisoned. Wake a good player. Show the ‚ÄúThese characters are in play‚Äù card, then the Widow character token.","otherNight":0,"otherNightReminder":"","reminders":["Envenenado","Knowing"],"setup":false,"name":"Vi√∫va","team":"minion","ability":"Na primeira Noite, veja o Grim√≥rio e escolha um jogador: ele est√° envenenado. 1 jogador do Bem sabe que a Vi√∫va est√° em jogo."},{"id":"leviathan","edition":"","firstNight":100,"firstNightReminder":"Place the Leviathan ‚ÄúDay 1‚Äù marker. Announce ‚ÄúThe Leviathan is in play; this is Day 1.‚Äù.","otherNight":100,"otherNightReminder":"Place the next Leviathan ‚ÄúDay n‚Äù marker, where ‚Äún‚Äù is the day number. Announce ‚ÄúThe Leviathan is in play; this is Day n.‚Äù.","reminders":["Executado e do Bem","Dia 1","Dia 2","Dia 3","Dia 4","Dia 5"],"setup":false,"name":"Leviathan","team":"demon","ability":"Todos os jogadores sabem que voc√™ est√° em jogo. Depois de 5 dias, o Mal vence. Se mais de 1 jogador do Bem for executado, o Mal vence."},{"id":"acrobat","edition":"","firstNight":0,"firstNightReminder":"","otherNight":31,"otherNightReminder":"If either good living neighbor is drunk or poisoned, the Acrobat dies.","reminders":["Morto"],"setup":false,"name":"Acrobata","team":"outsider","ability":"Toda Noite*, se um dos seus vizinhos do Bem estiver B√™bado ou Envenenado, voc√™ morre."},{"id":"bountyhunter","edition":"","firstNight":31,"firstNightReminder":"Point to a player that is evil.","otherNight":48,"otherNightReminder":"If the evil player that was known by the Bounty Hunter died since the previous night: Point to another player that is evil.","reminders":["Known"],"setup":true,"name":"Ca√ßador de Recompensas","team":"townsfolk","ability":"Voc√™ come√ßa o jogo sabendo quem √© 1 jogador do mal. Se esse jogador do mal morrer, voc√™ descobre outro nesta noite. [1 Cidad√£o √© Mal]"},{"id":"cultleader","edition":"","firstNight":32,"firstNightReminder":"The Cult Leader becomes the alignment of an alive neighbor: Show the ‚ÄúYou are‚Äù card. Show the hand signal (thumb-up ‚Äúgood‚Äù, thumb-down ‚Äúevil‚Äù) for the Cult Leader\'s current alignment.","otherNight":49,"otherNightReminder":"The Cult Leader becomes the alignment of an alive neighbor: Show the ‚ÄúYou are‚Äù card. Show the hand signal (thumb-up ‚Äúgood‚Äù, thumb-down ‚Äúevil‚Äù) for the Cult Leader\'s current alignment.","reminders":[],"setup":false,"name":"L√≠der do Culto","team":"townsfolk","ability":"A cada noite o seu alinhamento (bem/mal) muda para o mesmo de um dos seus vizinhos vivos. Se todos os jogadores do bem se juntarem ao culto, seu time vence."},{"id":"preacher","edition":"","firstNight":7,"firstNightReminder":"The Preacher points to a player. If that player is a Minion: Wake the Minion. Show the Preacher token. The Minion now does not have an ability anymore.","otherNight":5,"otherNightReminder":"The Preacher points to a player. If that player is a Minion: Wake the Minion. Show the Preacher token. The Minion now does not have an ability anymore.","reminders":["Sem habilidade"],"setup":false,"name":"Mission√°rio","team":"townsfolk","ability":"Toda Noite, escolha um jogador: Caso seja um Lacaio, ele saber√°. Todos os Lacaios escolhidos perdem a habilidade."},{"id":"politician","edition":"","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"name":"Pol√≠tico","team":"outsider","ability":"Se voc√™ for o maior respons√°vel pela derrota do seu time, o seu alinhamento (bem/mal) muda e voc√™ vence, mesmo estando morto."},{"id":"lilmonsta","edition":"","firstNight":8,"firstNightReminder":"Wake all Minions. The Minions point to a player that receives the Lil\' Monsta token and becomes the Demon.","otherNight":27,"otherNightReminder":"Wake all Minions. The Minions point to a player that receives the Lil\' Monsta token and becomes the Demon. Choose a player that dies.","reminders":[],"remindersGlobal":["Morto","Dem√¥nio"],"setup":true,"name":"Beb√™ Monstro","team":"demon","ability":"A cada noite os Lacaios escolhem quem ficar√° com o token do Beb√™ Monstro e ser√° o Dem√¥nio. Um jogador morre a cada noite. [+1 Lacaio]"},{"id":"general","edition":"","firstNight":34,"firstNightReminder":"Show the hand signal (thumb-up ‚Äúgood‚Äù, thumb-down ‚Äúevil‚Äù, thumb-sideways ‚Äúneither‚Äù) for the alignment that you believe is winning.","otherNight":52,"otherNightReminder":"Show the hand signal (thumb-up ‚Äúgood‚Äù, thumb-down ‚Äúevil‚Äù, thumb-sideways ‚Äúneither‚Äù) for the alignment that you believe is winning.","reminders":[],"remindersGlobal":[],"setup":false,"name":"General","team":"townsfolk","ability":"Cada noite, voc√™ descobre qual tend√™ncia o Storyteller acredita que est√° ganhando: Bem, Mal ou Nenhum."}]')},b223:function(e,t,o){e.exports=o.p+"img/mayor.98dda8d8.png"},b249:function(e){e.exports=JSON.parse('[{"id":"doomsayer","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Doomsayer","team":"fabled","ability":"If 4 or more players live, each living player may publicly choose (once per game) that a player of their own alignment dies."},{"id":"angel","firstNightReminder":"","otherNightReminder":"","reminders":["Protect","Punish"],"setup":false,"name":"Angel","team":"fabled","ability":"Something bad might happen to whoever is most responsible for the death of a new player."},{"id":"buddhist","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Buddhist","team":"fabled","ability":"For the first 2 minutes of each day, veteran players may not talk."},{"id":"hellslibrarian","firstNightReminder":"","otherNightReminder":"","reminders":["Punish"],"setup":false,"name":"Hell\'s Librarian","team":"fabled","ability":"Something bad might happen to whoever talks when the Storyteller has asked for silence."},{"id":"revolutionary","firstNightReminder":"","otherNightReminder":"","reminders":["Used"],"setup":false,"name":"Revolutionary","team":"fabled","ability":"2 neighboring players are known to be the same alignment. Once per game, one of them registers falsely."},{"id":"fiddler","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Fiddler","team":"fabled","ability":"Once per game, the Demon secretly chooses an opposing player: all players choose which of these 2 players win."},{"id":"toymaker","firstNightReminder":"","otherNightReminder":"If it is a night when a Demon attack could end the game, and the Demon is marked ‚ÄúFinal night: No Attack,‚Äù then the Demon does not act tonight. (Do not wake them.)","reminders":["Final Night: No Attack"],"setup":false,"name":"Toymaker","team":"fabled","ability":"The Demon may choose not to attack & must do this at least once per game. Evil players get normal starting info."},{"id":"fibbin","firstNightReminder":"","otherNightReminder":"","reminders":["Used"],"setup":false,"name":"Fibbin","team":"fabled","ability":"Once per game, 1 good player might get false information."},{"id":"duchess","firstNightReminder":"","otherNightReminder":"Wake each player marked ‚ÄúVisitor‚Äù or ‚ÄúFalse Info‚Äù one at a time. Show them the Duchess token, then fingers (1, 2, 3) equaling the number of evil players marked ‚ÄúVisitor‚Äù or, if you are waking the player marked ‚ÄúFalse Info,‚Äù show them any number of fingers except the number of evil players marked ‚ÄúVisitor.‚Äù","reminders":["Visitor","False Info"],"setup":false,"name":"Duchess","team":"fabled","ability":"Each day, 3 players may choose to visit you. At night*, each visitor learns how many visitors are evil, but 1 gets false info."},{"id":"sentinel","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":true,"name":"Sentinel","team":"fabled","ability":"There might be 1 extra or 1 fewer Outsider in play."},{"id":"spiritofivory","firstNightReminder":"","otherNightReminder":"","reminders":["No extra evil"],"setup":false,"name":"Spirit of Ivory","team":"fabled","ability":"There can\'t be more than 1 extra evil player."},{"id":"djinn","firstNightReminder":"Wake each evil player and show them which jinxed characters are in play, so that they know not to bluff as characters that can not be in play.","otherNightReminder":"","reminders":[],"setup":false,"name":"Djinn","team":"fabled","ability":"Jinxed characters are not both in-play, but evil players know which ones are. Or, use the Djinn\'s \\"Special Rule\\"."},{"id":"stormcatcher","firstNightReminder":"Mark a good player as \\"Safe\\". Wake each evil player and show them the marked player.","otherNightReminder":"","reminders":["Safe"],"setup":false,"name":"Storm Catcher","team":"fabled","ability":"Name a good character. If in play, they can only die by execution, but evil players learn which player it is."}]')},b30c:function(e,t,o){e.exports=o.p+"img/professor.8a5ccf04.png"},b570:function(e,t,o){e.exports=o.p+"img/investigator.13194f19.png"},ba9b:function(e,t,o){e.exports=o.p+"img/tealady.2d47353e.png"},bb7a:function(e,t,o){e.exports=o.p+"img/empath.d7a89ed7.png"},bfe2:function(e,t,o){e.exports=o.p+"img/angel.016b2c65.png"},c24f:function(e,t,o){e.exports=o.p+"img/evil.908a2622.png"},c492:function(e,t,o){e.exports=o.p+"img/lilmonsta.e4a265ca.png"},c5db:function(e,t,o){e.exports=o.p+"img/fisherman.9077de7e.png"},c6ca:function(e,t,o){},c73a:function(e,t,o){e.exports=o.p+"img/po.4c484011.png"},c9f5:function(e,t,o){e.exports=o.p+"img/grandmother.16001541.png"},cadc:function(e,t,o){e.exports=o.p+"img/gossip.dd8d7312.png"},cd8b:function(e,t,o){e.exports=o.p+"img/devilsadvocate.e455fea0.png"},cfcc:function(e,t,o){e.exports=o.p+"img/beggar.b7a4fbda.png"},d4b2:function(e,t,o){},d62b:function(e,t,o){e.exports=o.p+"img/slayer.0859544b.png"},d715:function(e,t,o){e.exports=o.p+"img/savant.16bfbc30.png"},d97d:function(e,t,o){e.exports=o.p+"img/drunk.4883c5a1.png"},dce6:function(e,t,o){e.exports=o.p+"img/gambler.000b4b9b.png"},dfb1:function(e,t){e.exports=e=>{if(localStorage.getItem("background")&&e.commit("setBackground",localStorage.background),localStorage.getItem("zoom")&&e.commit("setZoom",parseFloat(localStorage.getItem("zoom"))),void 0!==localStorage.isPublic&&e.commit("toggleGrimoire",JSON.parse(localStorage.isPublic)),void 0!==localStorage.edition&&e.commit("setEdition",localStorage.edition),void 0!==localStorage.roles&&e.commit("setCustomRoles",JSON.parse(localStorage.roles)),void 0!==localStorage.bluffs&&JSON.parse(localStorage.bluffs).forEach((t,o)=>{e.commit("setBluff",{index:o,role:e.state.roles.get(t)||{}})}),void 0!==localStorage.fabled&&e.commit("setFabled",{fabled:JSON.parse(localStorage.fabled).map(t=>e.state.fabled.get(t))}),localStorage.players&&e.commit("players/set",JSON.parse(localStorage.players).map(t=>({...t,role:e.state.roles.get(t.role)||{}}))),localStorage.getItem("playerId")&&e.commit("session/setPlayerId",localStorage.getItem("playerId")),localStorage.getItem("session")){const[t,o]=JSON.parse(localStorage.getItem("session"));e.commit("session/setSpectator",t),e.commit("session/setSessionId",o)}e.subscribe(({type:e,payload:t},o)=>{switch(e){case"toggleGrimoire":localStorage.setItem("isPublic",JSON.stringify(o.grimoire.isPublic));break;case"setBackground":t?localStorage.setItem("background",t):localStorage.removeItem("background");break;case"setZoom":0!==t?localStorage.setItem("zoom",t):localStorage.removeItem("zoom");break;case"setEdition":"custom"===t?localStorage.removeItem("edition"):(localStorage.setItem("edition",t),localStorage.removeItem("roles"));break;case"setCustomRoles":t.length?localStorage.setItem("roles",JSON.stringify(t)):localStorage.removeItem("roles");break;case"setBluff":localStorage.setItem("bluffs",JSON.stringify(o.grimoire.bluffs.map(({id:e})=>e)));break;case"setFabled":localStorage.setItem("fabled",JSON.stringify(o.grimoire.fabled.map(({id:e})=>e)));break;case"players/add":case"players/update":case"players/remove":case"players/clear":case"players/set":case"players/swap":case"players/move":o.players.players.length?localStorage.setItem("players",JSON.stringify(o.players.players.map(e=>({...e,role:e.role.id||{}})))):localStorage.removeItem("players");break;case"session/setSessionId":t?localStorage.setItem("session",JSON.stringify([o.session.isSpectator,t])):localStorage.removeItem("session");break;case"session/setPlayerId":t?localStorage.setItem("playerId",t):localStorage.removeItem("playerId");break}})}},e014:function(e,t,o){e.exports=o.p+"img/eviltwin.06a5a8b8.png"},e222:function(e,t,o){e.exports=o.p+"img/djinn.f10cec5c.png"},e8f0:function(e,t,o){},ec1e:function(e,t,o){e.exports=o.p+"img/spy.b739966f.png"},ee02:function(e,t,o){e.exports=o.p+"img/courtier.345180fb.png"},ee92:function(e,t,o){e.exports=o.p+"img/gunslinger.9f84c9f2.png"},eff4:function(e,t,o){e.exports=o.p+"img/virgin.eaf181e8.png"},f09b:function(e,t,o){e.exports=o.p+"img/judge.79ec3877.png"},f1e5:function(e,t,o){e.exports=o.p+"img/sweetheart.ec1cef03.png"},f282:function(e,t,o){e.exports=o.p+"img/poisoner.44c80b94.png"},f322:function(e,t,o){e.exports=o.p+"img/scarletwoman.d2cdaffd.png"},f3a2:function(e,t,o){"use strict";var i=o("c6ca"),s=o.n(i);s.a},f4bd:function(e,t,o){e.exports=o.p+"img/vigormortis.7716a80d.png"},f558:function(e,t,o){e.exports=o.p+"img/witch.2f895245.png"},f834:function(e,t,o){e.exports=o.p+"img/mastermind.c3ba5fbb.png"},f8aa:function(e,t,o){},f8ab:function(e,t,o){"use strict";var i=o("4ab7"),s=o.n(i);s.a},f93f:function(e,t,o){e.exports=o.p+"img/clockmaker.41906ffc.png"},fcc6:function(e,t,o){e.exports=o.p+"img/barber.a354ad9e.png"},fd83:function(e,t,o){e.exports=o.p+"img/custom.8ff972bc.png"},fff1:function(e,t,o){e.exports=o.p+"img/pacifist.ad2d0310.png"}});
//# sourceMappingURL=app.ea608cc6.js.map